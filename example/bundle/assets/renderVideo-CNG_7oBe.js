import"./modulepreload-polyfill-B5Qt9EMX.js";import{m as ot,at as st,au as lt,av as ft,a1 as ut,E as ht,X as ct,aF as dt,M as pt,aM as mt}from"./MaterialBase-byhyp4gt.js";import{G as gt}from"./GLTFLoader-BYq4k_JA.js";import{O as vt}from"./OrbitControls-BDTesZS8.js";import{H as wt}from"./HDRLoader-uXUM045B.js";import{M as bt}from"./meshopt_decoder.module-j6OW_3Rk.js";import{g as yt}from"./lil-gui.module.min-BH_YJbPT.js";import{g as _t}from"./__vite-browser-external-C8XJ56jx.js";import{g as kt}from"./_commonjsHelpers-Cpj98o6Y.js";import{g as Et}from"./getScaledSettings-nzgggDDj.js";import{L as xt}from"./LoaderElement-kg8-0xPv.js";import{W as St}from"./WebGLPathTracer-DzRjmE4y.js";import"./BufferGeometryUtils-DMgFFDwZ.js";import"./pcg.glsl-Dh-2-BlJ.js";import"./PathTracingRenderer-N-9Lxrjr.js";import"./ggx_functions.glsl-BPuHaSoe.js";function tt(Ce){throw new Error('Could not dynamically require "'+Ce+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $e={exports:{}},rt;function At(){return rt||(rt=1,(function(Ce,Fe){(function(Te,ze){Ce.exports=ze()})(self,()=>(()=>{var Ie={76:((te,P,K)=>{K(72);const{devDependencies:g}=K(681);te.exports={corePath:`https://unpkg.com/@ffmpeg/core@${g["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`}}),339:((te,P,K)=>{const g=K(72),E=v=>new Promise((l,s)=>{const r=new FileReader;r.onload=()=>{l(r.result)},r.onerror=({target:{error:{code:n}}})=>{s(Error(`File could not be read! Code=${n}`))},r.readAsArrayBuffer(v)});te.exports=async v=>{let l=v;return typeof v>"u"?new Uint8Array:(typeof v=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(v)?l=atob(v.split(",")[1]).split("").map(s=>s.charCodeAt(0)):l=await(await fetch(g(v))).arrayBuffer():(v instanceof File||v instanceof Blob)&&(l=await E(v)),new Uint8Array(l))}}),440:((te,P,K)=>{const g=K(72),{log:E}=K(888),v=async(l,s)=>{E("info",`fetch ${l}`);const r=await(await fetch(l)).arrayBuffer();E("info",`${l} file size = ${r.byteLength} bytes`);const n=new Blob([r],{type:s}),h=URL.createObjectURL(n);return E("info",`${l} blob URL = ${h}`),h};te.exports=async({corePath:l})=>{if(typeof l!="string")throw Error("corePath should be a string!");const s=g(l),r=await v(s,"application/javascript"),n=await v(s.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),h=await v(s.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(c=>{const p=document.createElement("script"),f=()=>{p.removeEventListener("load",f),E("info","ffmpeg-core.js script loaded"),c({createFFmpegCore,corePath:r,wasmPath:n,workerPath:h})};p.src=r,p.type="text/javascript",p.addEventListener("load",f),document.getElementsByTagName("head")[0].appendChild(p)}):(E("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:r,wasmPath:n,workerPath:h}))}}),451:((te,P,K)=>{const g=K(76),E=K(440),v=K(339);te.exports={defaultOptions:g,getCreateFFmpegCore:E,fetchFile:v}}),617:(te=>{te.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}}}),648:((te,P,K)=>{const{defaultArgs:g,baseOptions:E}=K(617),{setLogging:v,setCustomLogger:l,log:s}=K(888),r=K(405),n=K(10),{defaultOptions:h,getCreateFFmpegCore:c}=K(451),{version:p}=K(681),f=Error("ffmpeg.wasm is not ready, make sure you have completed load().");te.exports=(e={})=>{const{log:i,logger:u,progress:o,...m}={...E,...h,...e};let d=null,y=null,x=null,k=!1,D=o;const F=Y=>{Y==="FFMPEG_END"&&x!==null&&(x(),x=null,k=!1)},T=({type:Y,message:j})=>{s(Y,j),r(j,D),F(j)},S=async()=>{if(s("info","load ffmpeg-core"),d===null){s("info","loading ffmpeg-core");const{createFFmpegCore:Y,corePath:j,workerPath:J,wasmPath:W}=await c(m);d=await Y({mainScriptUrlOrBlob:j,printErr:ie=>T({type:"fferr",message:ie}),print:ie=>T({type:"ffout",message:ie}),locateFile:(ie,M)=>{if(typeof window<"u"){if(typeof W<"u"&&ie.endsWith("ffmpeg-core.wasm"))return W;if(typeof J<"u"&&ie.endsWith("ffmpeg-core.worker.js"))return J}return M+ie}}),y=d.cwrap("proxy_main","number",["number","number"]),s("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},O=()=>d!==null,B=(...Y)=>{if(s("info",`run ffmpeg command: ${Y.join(" ")}`),d===null)throw f;if(k)throw Error("ffmpeg.wasm can only run one command at a time");return k=!0,new Promise(j=>{const J=[...g,...Y].filter(W=>W.length!==0);x=j,y(...n(d,J))})},w=(Y,...j)=>{if(s("info",`run FS.${Y} ${j.map(J=>typeof J=="string"?J:`<${J.length} bytes binary file>`).join(" ")}`),d===null)throw f;{let J=null;try{J=d.FS[Y](...j)}catch{throw Error(Y==="readdir"?`ffmpeg.FS('readdir', '${j[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:Y==="readFile"?`ffmpeg.FS('readFile', '${j[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return J}},L=()=>{if(d===null)throw f;k=!1,d.exit(1),d=null,y=null,x=null},a=Y=>{D=Y},N=Y=>{l(Y)};return v(i),l(u),s("info",`use ffmpeg.wasm v${p}`),{setProgress:a,setLogger:N,setLogging:v,load:S,isLoaded:O,run:B,exit:L,FS:w}}}),888:(te=>{let P=!1,K=()=>{};const g=l=>{P=l},E=l=>{K=l},v=(l,s)=>{K({type:l,message:s}),P&&console.log(`[${l}] ${s}`)};te.exports={logging:P,setLogging:g,setCustomLogger:E,log:v}}),10:(te=>{te.exports=(P,K)=>{const g=P._malloc(K.length*Uint32Array.BYTES_PER_ELEMENT);return K.forEach((E,v)=>{const l=P._malloc(E.length+1);P.writeAsciiToMemory(E,l),P.setValue(g+Uint32Array.BYTES_PER_ELEMENT*v,l,"i32")}),[K.length,g]}}),405:(te=>{let P=0,K=0;const g=E=>{const[v,l,s]=E.split(":");return parseFloat(v)*60*60+parseFloat(l)*60+parseFloat(s)};te.exports=(E,v)=>{if(typeof E=="string")if(E.startsWith("  Duration")){const l=E.split(", ")[0].split(": ")[1],s=g(l);v({duration:s,ratio:K}),(P===0||P>s)&&(P=s)}else if(E.startsWith("frame")||E.startsWith("size")){const l=E.split("time=")[1].split(" ")[0],s=g(l);K=s/P,v({ratio:K,time:s})}else E.startsWith("video:")&&(v({ratio:1}),P=0)}}),809:((te,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.changeDpiBlob=i,P.changeDpiDataUrl=u;function K(y){if(Array.isArray(y)){for(var x=0,k=Array(y.length);x<y.length;x++)k[x]=y[x];return k}else return Array.from(y)}function g(){for(var y=new Int32Array(256),x=0;x<256;x++){for(var k=x,D=0;D<8;D++)k=k&1?3988292384^k>>>1:k>>>1;y[x]=k}return y}function E(y){var x=-1;v||(v=g());for(var k=0;k<y.length;k++)x=v[(x^y[k])&255]^x>>>8;return x^-1}var v=void 0,l="image/png",s="image/jpeg",r="AAlwSFlz",n="AAAJcEhZ",h="AAAACXBI",c=112,p=72,f=89,e=115;function i(y,x){var k=y.slice(0,33);return new Promise(function(D,F){var T=new FileReader;T.onload=function(){var S=new Uint8Array(T.result),O=y.slice(33),B=d(S,x,y.type);D(new Blob([B,O],{type:y.type}))},T.readAsArrayBuffer(k)})}function u(y,x){var k=y.split(","),D=k[0],F=k[1],T=void 0,S=void 0,O=!1;if(D.indexOf(l)!==-1){T=l;var B=o(F);B>=0?(S=Math.ceil((B+28)/3)*4,O=!0):S=44}D.indexOf(s)!==-1&&(T=s,S=24);for(var w=F.substring(0,S),L=F.substring(S),a=atob(w),N=new Uint8Array(a.length),Y=0;Y<N.length;Y++)N[Y]=a.charCodeAt(Y);var j=d(N,x,T,O),J=btoa(String.fromCharCode.apply(String,K(j)));return[D,",",J,L].join("")}function o(y){var x=y.indexOf(r);return x===-1&&(x=y.indexOf(n)),x===-1&&(x=y.indexOf(h)),x}function m(y){for(var x=y.length-1,k=x;k>=4;k--)if(y[k-4]===9&&y[k-3]===c&&y[k-2]===p&&y[k-1]===f&&y[k]===e)return k-3}function d(y,x,k,D){if(k===s)return y[13]=1,y[14]=x>>8,y[15]=x&255,y[16]=x>>8,y[17]=x&255,y;if(k===l){var F=new Uint8Array(13);x*=39.3701,F[0]=c,F[1]=p,F[2]=f,F[3]=e,F[4]=x>>>24,F[5]=x>>>16,F[6]=x>>>8,F[7]=x&255,F[8]=F[4],F[9]=F[5],F[10]=F[6],F[11]=F[7],F[12]=1;var T=E(F),S=new Uint8Array(4);if(S[0]=T>>>24,S[1]=T>>>16,S[2]=T>>>8,S[3]=T&255,D){var O=m(y);return y.set(F,O),y.set(S,O+13),y}else{var B=new Uint8Array(4);B[0]=0,B[1]=0,B[2]=0,B[3]=9;var w=new Uint8Array(54);return w.set(y,0),w.set(B,33),w.set(F,37),w.set(S,50),w}}}}),162:(function(te,P,K){var g,E,v;(function(l,s){E=[],g=s,v=typeof g=="function"?g.apply(P,E):g,v!==void 0&&(te.exports=v)})(this,function(){function l(f,e){return typeof e>"u"?e={autoBom:!1}:typeof e!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function s(f,e,i){var u=new XMLHttpRequest;u.open("GET",f),u.responseType="blob",u.onload=function(){p(u.response,e,i)},u.onerror=function(){console.error("could not download file")},u.send()}function r(f){var e=new XMLHttpRequest;e.open("HEAD",f,!1);try{e.send()}catch{}return 200<=e.status&&299>=e.status}function n(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(e)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof K.g=="object"&&K.g.global===K.g?K.g:void 0,c=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(f,e,i){var u=h.URL||h.webkitURL,o=document.createElement("a");e=e||f.name||"download",o.download=e,o.rel="noopener",typeof f=="string"?(o.href=f,o.origin===location.origin?n(o):r(o.href)?s(f,e,i):n(o,o.target="_blank")):(o.href=u.createObjectURL(f),setTimeout(function(){u.revokeObjectURL(o.href)},4e4),setTimeout(function(){n(o)},0))}:"msSaveOrOpenBlob"in navigator?function(f,e,i){if(e=e||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(l(f,i),e);else if(r(f))s(f,e,i);else{var u=document.createElement("a");u.href=f,u.target="_blank",setTimeout(function(){n(u)})}}:function(f,e,i,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof f=="string")return s(f,e,i);var o=f.type==="application/octet-stream",m=/constructor/i.test(h.HTMLElement)||h.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||o&&m||c)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var D=y.result;D=d?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=D:location=D,u=null},y.readAsDataURL(f)}else{var x=h.URL||h.webkitURL,k=x.createObjectURL(f);u?u.location=k:location.href=k,u=null,setTimeout(function(){x.revokeObjectURL(k)},4e4)}});h.saveAs=p.saveAs=p,te.exports=p})}),733:((te,P,K)=>{/*!

		JSZip v3.7.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/master/LICENSE
		*/(function(g){te.exports=g()})(function(){return(function g(E,v,l){function s(h,c){if(!v[h]){if(!E[h]){var p=void 0;if(!c&&p)return tt(h);if(r)return r(h,!0);var f=new Error("Cannot find module '"+h+"'");throw f.code="MODULE_NOT_FOUND",f}var e=v[h]={exports:{}};E[h][0].call(e.exports,function(i){var u=E[h][1][i];return s(u||i)},e,e.exports,g,E,v,l)}return v[h].exports}for(var r=void 0,n=0;n<l.length;n++)s(l[n]);return s})({1:[function(g,E,v){var l=g("./utils"),s=g("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(n){for(var h,c,p,f,e,i,u,o=[],m=0,d=n.length,y=d,x=l.getTypeOf(n)!=="string";m<n.length;)y=d-m,p=x?(h=n[m++],c=m<d?n[m++]:0,m<d?n[m++]:0):(h=n.charCodeAt(m++),c=m<d?n.charCodeAt(m++):0,m<d?n.charCodeAt(m++):0),f=h>>2,e=(3&h)<<4|c>>4,i=1<y?(15&c)<<2|p>>6:64,u=2<y?63&p:64,o.push(r.charAt(f)+r.charAt(e)+r.charAt(i)+r.charAt(u));return o.join("")},v.decode=function(n){var h,c,p,f,e,i,u=0,o=0,m="data:";if(n.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var d,y=3*(n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(n.charAt(n.length-1)===r.charAt(64)&&y--,n.charAt(n.length-2)===r.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=s.uint8array?new Uint8Array(0|y):new Array(0|y);u<n.length;)h=r.indexOf(n.charAt(u++))<<2|(f=r.indexOf(n.charAt(u++)))>>4,c=(15&f)<<4|(e=r.indexOf(n.charAt(u++)))>>2,p=(3&e)<<6|(i=r.indexOf(n.charAt(u++))),d[o++]=h,e!==64&&(d[o++]=c),i!==64&&(d[o++]=p);return d}},{"./support":30,"./utils":32}],2:[function(g,E,v){var l=g("./external"),s=g("./stream/DataWorker"),r=g("./stream/Crc32Probe"),n=g("./stream/DataLengthProbe");function h(c,p,f,e,i){this.compressedSize=c,this.uncompressedSize=p,this.crc32=f,this.compression=e,this.compressedContent=i}h.prototype={getContentWorker:function(){var c=new s(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),p=this;return c.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(c,p,f){return c.pipe(new r).pipe(new n("uncompressedSize")).pipe(p.compressWorker(f)).pipe(new n("compressedSize")).withStreamInfo("compression",p)},E.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(g,E,v){var l=g("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(s){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},v.DEFLATE=g("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(g,E,v){var l=g("./utils"),s=(function(){for(var r,n=[],h=0;h<256;h++){r=h;for(var c=0;c<8;c++)r=1&r?3988292384^r>>>1:r>>>1;n[h]=r}return n})();E.exports=function(r,n){return r!==void 0&&r.length?l.getTypeOf(r)!=="string"?(function(h,c,p,f){var e=s,i=f+p;h^=-1;for(var u=f;u<i;u++)h=h>>>8^e[255&(h^c[u])];return-1^h})(0|n,r,r.length,0):(function(h,c,p,f){var e=s,i=f+p;h^=-1;for(var u=f;u<i;u++)h=h>>>8^e[255&(h^c.charCodeAt(u))];return-1^h})(0|n,r,r.length,0):0}},{"./utils":32}],5:[function(g,E,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(g,E,v){var l=null;l=typeof Promise<"u"?Promise:g("lie"),E.exports={Promise:l}},{lie:37}],7:[function(g,E,v){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=g("pako"),r=g("./utils"),n=g("./stream/GenericWorker"),h=l?"uint8array":"array";function c(p,f){n.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=f,this.meta={}}v.magic="\b\0",r.inherits(c,n),c.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(h,p.data),!1)},c.prototype.flush=function(){n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(f){p.push({data:f,meta:p.meta})}},v.compressWorker=function(p){return new c("Deflate",p)},v.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(g,E,v){function l(e,i){var u,o="";for(u=0;u<i;u++)o+=String.fromCharCode(255&e),e>>>=8;return o}function s(e,i,u,o,m,d){var y,x,k=e.file,D=e.compression,F=d!==h.utf8encode,T=r.transformTo("string",d(k.name)),S=r.transformTo("string",h.utf8encode(k.name)),O=k.comment,B=r.transformTo("string",d(O)),w=r.transformTo("string",h.utf8encode(O)),L=S.length!==k.name.length,a=w.length!==O.length,N="",Y="",j="",J=k.dir,W=k.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};i&&!u||(ie.crc32=e.crc32,ie.compressedSize=e.compressedSize,ie.uncompressedSize=e.uncompressedSize);var M=0;i&&(M|=8),F||!L&&!a||(M|=2048);var I=0,le=0;J&&(I|=16),m==="UNIX"?(le=798,I|=(function(V,de){var we=V;return V||(we=de?16893:33204),(65535&we)<<16})(k.unixPermissions,J)):(le=20,I|=(function(V){return 63&(V||0)})(k.dosPermissions)),y=W.getUTCHours(),y<<=6,y|=W.getUTCMinutes(),y<<=5,y|=W.getUTCSeconds()/2,x=W.getUTCFullYear()-1980,x<<=4,x|=W.getUTCMonth()+1,x<<=5,x|=W.getUTCDate(),L&&(Y=l(1,1)+l(c(T),4)+S,N+="up"+l(Y.length,2)+Y),a&&(j=l(1,1)+l(c(B),4)+w,N+="uc"+l(j.length,2)+j);var q="";return q+=`
\0`,q+=l(M,2),q+=D.magic,q+=l(y,2),q+=l(x,2),q+=l(ie.crc32,4),q+=l(ie.compressedSize,4),q+=l(ie.uncompressedSize,4),q+=l(T.length,2),q+=l(N.length,2),{fileRecord:p.LOCAL_FILE_HEADER+q+T+N,dirRecord:p.CENTRAL_FILE_HEADER+l(le,2)+q+l(B.length,2)+"\0\0\0\0"+l(I,4)+l(o,4)+T+N+B}}var r=g("../utils"),n=g("../stream/GenericWorker"),h=g("../utf8"),c=g("../crc32"),p=g("../signature");function f(e,i,u,o){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=i,this.zipPlatform=u,this.encodeFileName=o,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(f,n),f.prototype.push=function(e){var i=e.meta.percent||0,u=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,n.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:u?(i+100*(u-o-1))/u:100}}))},f.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var i=this.streamFiles&&!e.file.dir;if(i){var u=s(e,i,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(e){this.accumulate=!1;var i=this.streamFiles&&!e.file.dir,u=s(e,i,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),i)this.push({data:(function(o){return p.DATA_DESCRIPTOR+l(o.crc32,4)+l(o.compressedSize,4)+l(o.uncompressedSize,4)})(e),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var e=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var u=this.bytesWritten-e,o=(function(m,d,y,x,k){var D=r.transformTo("string",k(x));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(m,2)+l(m,2)+l(d,4)+l(y,4)+l(D.length,2)+D})(this.dirRecords.length,u,e,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(e){this._sources.push(e);var i=this;return e.on("data",function(u){i.processChunk(u)}),e.on("end",function(){i.closedSource(i.previous.streamInfo),i._sources.length?i.prepareNextSource():i.end()}),e.on("error",function(u){i.error(u)}),this},f.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(e){var i=this._sources;if(!n.prototype.error.call(this,e))return!1;for(var u=0;u<i.length;u++)try{i[u].error(e)}catch{}return!0},f.prototype.lock=function(){n.prototype.lock.call(this);for(var e=this._sources,i=0;i<e.length;i++)e[i].lock()},E.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(g,E,v){var l=g("../compressions"),s=g("./ZipFileWorker");v.generateWorker=function(r,n,h){var c=new s(n.streamFiles,h,n.platform,n.encodeFileName),p=0;try{r.forEach(function(f,e){p++;var i=(function(d,y){var x=d||y,k=l[x];if(!k)throw new Error(x+" is not a valid compression method !");return k})(e.options.compression,n.compression),u=e.options.compressionOptions||n.compressionOptions||{},o=e.dir,m=e.date;e._compressWorker(i,u).withStreamInfo("file",{name:f,dir:o,date:m,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(c)}),c.entriesCount=p}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(g,E,v){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new l;for(var r in this)typeof this[r]!="function"&&(s[r]=this[r]);return s}}(l.prototype=g("./object")).loadAsync=g("./load"),l.support=g("./support"),l.defaults=g("./defaults"),l.version="3.7.1",l.loadAsync=function(s,r){return new l().loadAsync(s,r)},l.external=g("./external"),E.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(g,E,v){var l=g("./utils"),s=g("./external"),r=g("./utf8"),n=g("./zipEntries"),h=g("./stream/Crc32Probe"),c=g("./nodejsUtils");function p(f){return new s.Promise(function(e,i){var u=f.decompressed.getContentWorker().pipe(new h);u.on("error",function(o){i(o)}).on("end",function(){u.streamInfo.crc32!==f.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}E.exports=function(f,e){var i=this;return e=l.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),c.isNode&&c.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",f,!0,e.optimizedBinaryString,e.base64).then(function(u){var o=new n(e);return o.load(u),o}).then(function(u){var o=[s.Promise.resolve(u)],m=u.files;if(e.checkCRC32)for(var d=0;d<m.length;d++)o.push(p(m[d]));return s.Promise.all(o)}).then(function(u){for(var o=u.shift(),m=o.files,d=0;d<m.length;d++){var y=m[d];i.file(y.fileNameStr,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:e.createFolders})}return o.zipComment.length&&(i.comment=o.zipComment),i})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(g,E,v){var l=g("../utils"),s=g("../stream/GenericWorker");function r(n,h){s.call(this,"Nodejs stream input adapter for "+n),this._upstreamEnded=!1,this._bindStream(h)}l.inherits(r,s),r.prototype._bindStream=function(n){var h=this;(this._stream=n).pause(),n.on("data",function(c){h.push({data:c,meta:{percent:0}})}).on("error",function(c){h.isPaused?this.generatedError=c:h.error(c)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},r.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},E.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(g,E,v){var l=g("readable-stream").Readable;function s(r,n,h){l.call(this,n),this._helper=r;var c=this;r.on("data",function(p,f){c.push(p)||c._helper.pause(),h&&h(f)}).on("error",function(p){c.emit("error",p)}).on("end",function(){c.push(null)})}g("../utils").inherits(s,l),s.prototype._read=function(){this._helper.resume()},E.exports=s},{"../utils":32,"readable-stream":16}],14:[function(g,E,v){E.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,s);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,s)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var s=new Buffer(l);return s.fill(0),s},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(g,E,v){function l(k,D,F){var T,S=r.getTypeOf(D),O=r.extend(F||{},c);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(k=m(k)),O.createFolders&&(T=o(k))&&d.call(this,T,!0);var B=S==="string"&&O.binary===!1&&O.base64===!1;F&&F.binary!==void 0||(O.binary=!B),(D instanceof p&&D.uncompressedSize===0||O.dir||!D||D.length===0)&&(O.base64=!1,O.binary=!0,D="",O.compression="STORE",S="string");var w=null;w=D instanceof p||D instanceof n?D:i.isNode&&i.isStream(D)?new u(k,D):r.prepareContent(k,D,O.binary,O.optimizedBinaryString,O.base64);var L=new f(k,w,O);this.files[k]=L}var s=g("./utf8"),r=g("./utils"),n=g("./stream/GenericWorker"),h=g("./stream/StreamHelper"),c=g("./defaults"),p=g("./compressedObject"),f=g("./zipObject"),e=g("./generate"),i=g("./nodejsUtils"),u=g("./nodejs/NodejsStreamInputAdapter"),o=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var D=k.lastIndexOf("/");return 0<D?k.substring(0,D):""},m=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},d=function(k,D){return D=D!==void 0?D:c.createFolders,k=m(k),this.files[k]||l.call(this,k,null,{dir:!0,createFolders:D}),this.files[k]};function y(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var D,F,T;for(D in this.files)T=this.files[D],(F=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&k(F,T)},filter:function(k){var D=[];return this.forEach(function(F,T){k(F,T)&&D.push(T)}),D},file:function(k,D,F){if(arguments.length!==1)return k=this.root+k,l.call(this,k,D,F),this;if(y(k)){var T=k;return this.filter(function(O,B){return!B.dir&&T.test(O)})}var S=this.files[this.root+k];return S&&!S.dir?S:null},folder:function(k){if(!k)return this;if(y(k))return this.filter(function(S,O){return O.dir&&k.test(S)});var D=this.root+k,F=d.call(this,D),T=this.clone();return T.root=F.name,T},remove:function(k){k=this.root+k;var D=this.files[k];if(D||(k.slice(-1)!=="/"&&(k+="/"),D=this.files[k]),D&&!D.dir)delete this.files[k];else for(var F=this.filter(function(S,O){return O.name.slice(0,k.length)===k}),T=0;T<F.length;T++)delete this.files[F[T].name];return this},generate:function(k){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var D,F={};try{if((F=r.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");r.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var T=F.comment||this.comment||"";D=e.generateWorker(this,F,T)}catch(S){(D=new n("error")).error(S)}return new h(D,F.type||"string",F.mimeType)},generateAsync:function(k,D){return this.generateInternalStream(k).accumulate(D)},generateNodeStream:function(k,D){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(D)}};E.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(g,E,v){E.exports=g("stream")},{stream:void 0}],17:[function(g,E,v){var l=g("./DataReader");function s(r){l.call(this,r);for(var n=0;n<this.data.length;n++)r[n]=255&r[n]}g("../utils").inherits(s,l),s.prototype.byteAt=function(r){return this.data[this.zero+r]},s.prototype.lastIndexOfSignature=function(r){for(var n=r.charCodeAt(0),h=r.charCodeAt(1),c=r.charCodeAt(2),p=r.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===n&&this.data[f+1]===h&&this.data[f+2]===c&&this.data[f+3]===p)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(r){var n=r.charCodeAt(0),h=r.charCodeAt(1),c=r.charCodeAt(2),p=r.charCodeAt(3),f=this.readData(4);return n===f[0]&&h===f[1]&&c===f[2]&&p===f[3]},s.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var n=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,n},E.exports=s},{"../utils":32,"./DataReader":18}],18:[function(g,E,v){var l=g("../utils");function s(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(r){},readInt:function(r){var n,h=0;for(this.checkOffset(r),n=this.index+r-1;n>=this.index;n--)h=(h<<8)+this.byteAt(n);return this.index+=r,h},readString:function(r){return l.transformTo("string",this.readData(r))},readData:function(r){},lastIndexOfSignature:function(r){},readAndCheckSignature:function(r){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},E.exports=s},{"../utils":32}],19:[function(g,E,v){var l=g("./Uint8ArrayReader");function s(r){l.call(this,r)}g("../utils").inherits(s,l),s.prototype.readData=function(r){this.checkOffset(r);var n=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,n},E.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(g,E,v){var l=g("./DataReader");function s(r){l.call(this,r)}g("../utils").inherits(s,l),s.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},s.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},s.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},s.prototype.readData=function(r){this.checkOffset(r);var n=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,n},E.exports=s},{"../utils":32,"./DataReader":18}],21:[function(g,E,v){var l=g("./ArrayReader");function s(r){l.call(this,r)}g("../utils").inherits(s,l),s.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var n=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,n},E.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(g,E,v){var l=g("../utils"),s=g("../support"),r=g("./ArrayReader"),n=g("./StringReader"),h=g("./NodeBufferReader"),c=g("./Uint8ArrayReader");E.exports=function(p){var f=l.getTypeOf(p);return l.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new h(p):s.uint8array?new c(l.transformTo("uint8array",p)):new r(l.transformTo("array",p)):new n(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(g,E,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(g,E,v){var l=g("./GenericWorker"),s=g("../utils");function r(n){l.call(this,"ConvertWorker to "+n),this.destType=n}s.inherits(r,l),r.prototype.processChunk=function(n){this.push({data:s.transformTo(this.destType,n.data),meta:n.meta})},E.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(g,E,v){var l=g("./GenericWorker"),s=g("../crc32");function r(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}g("../utils").inherits(r,l),r.prototype.processChunk=function(n){this.streamInfo.crc32=s(n.data,this.streamInfo.crc32||0),this.push(n)},E.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(g,E,v){var l=g("../utils"),s=g("./GenericWorker");function r(n){s.call(this,"DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}l.inherits(r,s),r.prototype.processChunk=function(n){if(n){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+n.data.length}s.prototype.processChunk.call(this,n)},E.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(g,E,v){var l=g("../utils"),s=g("./GenericWorker");function r(n){s.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,n.then(function(c){h.dataIsReady=!0,h.data=c,h.max=c&&c.length||0,h.type=l.getTypeOf(c),h.isPaused||h._tickAndRepeat()},function(c){h.error(c)})}l.inherits(r,s),r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var n=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":n=this.data.substring(this.index,h);break;case"uint8array":n=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":n=this.data.slice(this.index,h)}return this.index=h,this.push({data:n,meta:{percent:this.max?this.index/this.max*100:0}})},E.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(g,E,v){function l(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,r){return this._listeners[s].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,r){if(this._listeners[s])for(var n=0;n<this._listeners[s].length;n++)this._listeners[s][n].call(this,r)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var r=this;return s.on("data",function(n){r.processChunk(n)}),s.on("end",function(){r.end()}),s.on("error",function(n){r.error(n)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,r){return this.extraStreamInfo[s]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},E.exports=l},{}],29:[function(g,E,v){var l=g("../utils"),s=g("./ConvertWorker"),r=g("./GenericWorker"),n=g("../base64"),h=g("../support"),c=g("../external"),p=null;if(h.nodestream)try{p=g("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(i,u){return new c.Promise(function(o,m){var d=[],y=i._internalType,x=i._outputType,k=i._mimeType;i.on("data",function(D,F){d.push(D),u&&u(F)}).on("error",function(D){d=[],m(D)}).on("end",function(){try{var D=(function(F,T,S){switch(F){case"blob":return l.newBlob(l.transformTo("arraybuffer",T),S);case"base64":return n.encode(T);default:return l.transformTo(F,T)}})(x,(function(F,T){var S,O=0,B=null,w=0;for(S=0;S<T.length;S++)w+=T[S].length;switch(F){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(B=new Uint8Array(w),S=0;S<T.length;S++)B.set(T[S],O),O+=T[S].length;return B;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+F+"'")}})(y,d),k);o(D)}catch(F){m(F)}d=[]}).resume()})}function e(i,u,o){var m=u;switch(u){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=u,this._mimeType=o,l.checkSupport(m),this._worker=i.pipe(new s(m)),i.lock()}catch(d){this._worker=new r("error"),this._worker.error(d)}}e.prototype={accumulate:function(i){return f(this,i)},on:function(i,u){var o=this;return i==="data"?this._worker.on(i,function(m){u.call(o,m.data,m.meta)}):this._worker.on(i,function(){l.delay(u,arguments,o)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(i){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},i)}},E.exports=e},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(g,E,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=typeof Buffer<"u",v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var l=new ArrayBuffer(0);try{v.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(l),v.blob=s.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!g("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(g,E,v){for(var l=g("./utils"),s=g("./support"),r=g("./nodejsUtils"),n=g("./stream/GenericWorker"),h=new Array(256),c=0;c<256;c++)h[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;h[254]=h[254]=1;function p(){n.call(this,"utf-8 decode"),this.leftOver=null}function f(){n.call(this,"utf-8 encode")}v.utf8encode=function(e){return s.nodebuffer?r.newBufferFrom(e,"utf-8"):(function(i){var u,o,m,d,y,x=i.length,k=0;for(d=0;d<x;d++)(64512&(o=i.charCodeAt(d)))==55296&&d+1<x&&(64512&(m=i.charCodeAt(d+1)))==56320&&(o=65536+(o-55296<<10)+(m-56320),d++),k+=o<128?1:o<2048?2:o<65536?3:4;for(u=s.uint8array?new Uint8Array(k):new Array(k),d=y=0;y<k;d++)(64512&(o=i.charCodeAt(d)))==55296&&d+1<x&&(64512&(m=i.charCodeAt(d+1)))==56320&&(o=65536+(o-55296<<10)+(m-56320),d++),o<128?u[y++]=o:(o<2048?u[y++]=192|o>>>6:(o<65536?u[y++]=224|o>>>12:(u[y++]=240|o>>>18,u[y++]=128|o>>>12&63),u[y++]=128|o>>>6&63),u[y++]=128|63&o);return u})(e)},v.utf8decode=function(e){return s.nodebuffer?l.transformTo("nodebuffer",e).toString("utf-8"):(function(i){var u,o,m,d,y=i.length,x=new Array(2*y);for(u=o=0;u<y;)if((m=i[u++])<128)x[o++]=m;else if(4<(d=h[m]))x[o++]=65533,u+=d-1;else{for(m&=d===2?31:d===3?15:7;1<d&&u<y;)m=m<<6|63&i[u++],d--;1<d?x[o++]=65533:m<65536?x[o++]=m:(m-=65536,x[o++]=55296|m>>10&1023,x[o++]=56320|1023&m)}return x.length!==o&&(x.subarray?x=x.subarray(0,o):x.length=o),l.applyFromCharCode(x)})(e=l.transformTo(s.uint8array?"uint8array":"array",e))},l.inherits(p,n),p.prototype.processChunk=function(e){var i=l.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var u=i;(i=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),i.set(u,this.leftOver.length)}else i=this.leftOver.concat(i);this.leftOver=null}var o=(function(d,y){var x;for((y=y||d.length)>d.length&&(y=d.length),x=y-1;0<=x&&(192&d[x])==128;)x--;return x<0||x===0?y:x+h[d[x]]>y?x:y})(i),m=i;o!==i.length&&(s.uint8array?(m=i.subarray(0,o),this.leftOver=i.subarray(o,i.length)):(m=i.slice(0,o),this.leftOver=i.slice(o,i.length))),this.push({data:v.utf8decode(m),meta:e.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=p,l.inherits(f,n),f.prototype.processChunk=function(e){this.push({data:v.utf8encode(e.data),meta:e.meta})},v.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(g,E,v){var l=g("./support"),s=g("./base64"),r=g("./nodejsUtils"),n=g("set-immediate-shim"),h=g("./external");function c(o){return o}function p(o,m){for(var d=0;d<o.length;++d)m[d]=255&o.charCodeAt(d);return m}v.newBlob=function(o,m){v.checkSupport("blob");try{return new Blob([o],{type:m})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(o),d.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(o,m,d){var y=[],x=0,k=o.length;if(k<=d)return String.fromCharCode.apply(null,o);for(;x<k;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,o.slice(x,Math.min(x+d,k)))):y.push(String.fromCharCode.apply(null,o.subarray(x,Math.min(x+d,k)))),x+=d;return y.join("")},stringifyByChar:function(o){for(var m="",d=0;d<o.length;d++)m+=String.fromCharCode(o[d]);return m},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}})()}};function e(o){var m=65536,d=v.getTypeOf(o),y=!0;if(d==="uint8array"?y=f.applyCanBeUsed.uint8array:d==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return f.stringifyByChunk(o,d,m)}catch{m=Math.floor(m/2)}return f.stringifyByChar(o)}function i(o,m){for(var d=0;d<o.length;d++)m[d]=o[d];return m}v.applyFromCharCode=e;var u={};u.string={string:c,array:function(o){return p(o,new Array(o.length))},arraybuffer:function(o){return u.string.uint8array(o).buffer},uint8array:function(o){return p(o,new Uint8Array(o.length))},nodebuffer:function(o){return p(o,r.allocBuffer(o.length))}},u.array={string:e,array:c,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return r.newBufferFrom(o)}},u.arraybuffer={string:function(o){return e(new Uint8Array(o))},array:function(o){return i(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:c,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return r.newBufferFrom(new Uint8Array(o))}},u.uint8array={string:e,array:function(o){return i(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:c,nodebuffer:function(o){return r.newBufferFrom(o)}},u.nodebuffer={string:e,array:function(o){return i(o,new Array(o.length))},arraybuffer:function(o){return u.nodebuffer.uint8array(o).buffer},uint8array:function(o){return i(o,new Uint8Array(o.length))},nodebuffer:c},v.transformTo=function(o,m){if(m=m||"",!o)return m;v.checkSupport(o);var d=v.getTypeOf(m);return u[d][o](m)},v.getTypeOf=function(o){return typeof o=="string"?"string":Object.prototype.toString.call(o)==="[object Array]"?"array":l.nodebuffer&&r.isBuffer(o)?"nodebuffer":l.uint8array&&o instanceof Uint8Array?"uint8array":l.arraybuffer&&o instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(o){if(!l[o.toLowerCase()])throw new Error(o+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(o){var m,d,y="";for(d=0;d<(o||"").length;d++)y+="\\x"+((m=o.charCodeAt(d))<16?"0":"")+m.toString(16).toUpperCase();return y},v.delay=function(o,m,d){n(function(){o.apply(d||null,m||[])})},v.inherits=function(o,m){function d(){}d.prototype=m.prototype,o.prototype=new d},v.extend=function(){var o,m,d={};for(o=0;o<arguments.length;o++)for(m in arguments[o])arguments[o].hasOwnProperty(m)&&d[m]===void 0&&(d[m]=arguments[o][m]);return d},v.prepareContent=function(o,m,d,y,x){return h.Promise.resolve(m).then(function(k){return l.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new h.Promise(function(D,F){var T=new FileReader;T.onload=function(S){D(S.target.result)},T.onerror=function(S){F(S.target.error)},T.readAsArrayBuffer(k)}):k}).then(function(k){var D=v.getTypeOf(k);return D?(D==="arraybuffer"?k=v.transformTo("uint8array",k):D==="string"&&(x?k=s.decode(k):d&&y!==!0&&(k=(function(F){return p(F,l.uint8array?new Uint8Array(F.length):new Array(F.length))})(k))),k):h.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(g,E,v){var l=g("./reader/readerFor"),s=g("./utils"),r=g("./signature"),n=g("./zipEntry"),h=(g("./utf8"),g("./support"));function c(p){this.files=[],this.loadOptions=p}c.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(p)+")")}},isSignature:function(p,f){var e=this.reader.index;this.reader.setIndex(p);var i=this.reader.readString(4)===f;return this.reader.setIndex(e),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),f=h.uint8array?"uint8array":"array",e=s.transformTo(f,p);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,f,e,i=this.zip64EndOfCentralSize-44;0<i;)p=this.reader.readInt(2),f=this.reader.readInt(4),e=this.reader.readData(f),this.zip64ExtensibleData[p]={id:p,length:f,value:e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,f;for(p=0;p<this.files.length;p++)f=this.files[p],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(p=new n({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var f=p;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var e=this.centralDirOffset+this.centralDirSize;this.zip64&&(e+=20,e+=12+this.zip64EndOfCentralSize);var i=f-e;if(0<i)this.isSignature(f,r.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(p){this.reader=l(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},E.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(g,E,v){var l=g("./reader/readerFor"),s=g("./utils"),r=g("./compressedObject"),n=g("./crc32"),h=g("./utf8"),c=g("./compressions"),p=g("./support");function f(e,i){this.options=e,this.loadOptions=i}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var i,u;if(e.skip(22),this.fileNameLength=e.readInt(2),u=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((i=(function(o){for(var m in c)if(c.hasOwnProperty(m)&&c[m].magic===o)return c[m];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,i,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var i=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(i),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e==0&&(this.dosPermissions=63&this.externalFileAttributes),e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var i=l(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(e){var i,u,o,m=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<m;)i=e.readInt(2),u=e.readInt(2),o=e.readData(u),this.extraFields[i]={id:i,length:u,value:o};e.setIndex(m)},handleUTF8:function(){var e=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var i=this.findExtraFieldUnicodePath();if(i!==null)this.fileNameStr=i;else{var u=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var o=this.findExtraFieldUnicodeComment();if(o!==null)this.fileCommentStr=o;else{var m=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var i=l(e.value);return i.readInt(1)!==1||n(this.fileName)!==i.readInt(4)?null:h.utf8decode(i.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var i=l(e.value);return i.readInt(1)!==1||n(this.fileComment)!==i.readInt(4)?null:h.utf8decode(i.readData(e.length-5))}return null}},E.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(g,E,v){function l(i,u,o){this.name=i,this.dir=o.dir,this.date=o.date,this.comment=o.comment,this.unixPermissions=o.unixPermissions,this.dosPermissions=o.dosPermissions,this._data=u,this._dataBinary=o.binary,this.options={compression:o.compression,compressionOptions:o.compressionOptions}}var s=g("./stream/StreamHelper"),r=g("./stream/DataWorker"),n=g("./utf8"),h=g("./compressedObject"),c=g("./stream/GenericWorker");l.prototype={internalStream:function(i){var u=null,o="string";try{if(!i)throw new Error("No output type specified.");var m=(o=i.toLowerCase())==="string"||o==="text";o!=="binarystring"&&o!=="text"||(o="string"),u=this._decompressWorker();var d=!this._dataBinary;d&&!m&&(u=u.pipe(new n.Utf8EncodeWorker)),!d&&m&&(u=u.pipe(new n.Utf8DecodeWorker))}catch(y){(u=new c("error")).error(y)}return new s(u,o,"")},async:function(i,u){return this.internalStream(i).accumulate(u)},nodeStream:function(i,u){return this.internalStream(i||"nodebuffer").toNodejsStream(u)},_compressWorker:function(i,u){if(this._data instanceof h&&this._data.compression.magic===i.magic)return this._data.getCompressedWorker();var o=this._decompressWorker();return this._dataBinary||(o=o.pipe(new n.Utf8EncodeWorker)),h.createWorkerFrom(o,i,u)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof c?this._data:new r(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},e=0;e<p.length;e++)l.prototype[p[e]]=f;E.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(g,E,v){(function(l){var s,r,n=l.MutationObserver||l.WebKitMutationObserver;if(n){var h=0,c=new n(i),p=l.document.createTextNode("");c.observe(p,{characterData:!0}),s=function(){p.data=h=++h%2}}else if(l.setImmediate||l.MessageChannel===void 0)s="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var u=l.document.createElement("script");u.onreadystatechange=function(){i(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},l.document.documentElement.appendChild(u)}:function(){setTimeout(i,0)};else{var f=new l.MessageChannel;f.port1.onmessage=i,s=function(){f.port2.postMessage(0)}}var e=[];function i(){var u,o;r=!0;for(var m=e.length;m;){for(o=e,e=[],u=-1;++u<m;)o[u]();m=e.length}r=!1}E.exports=function(u){e.push(u)!==1||r||s()}}).call(this,typeof K.g<"u"?K.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(g,E,v){var l=g("immediate");function s(){}var r={},n=["REJECTED"],h=["FULFILLED"],c=["PENDING"];function p(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==s&&u(this,m)}function f(m,d,y){this.promise=m,typeof d=="function"&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function e(m,d,y){l(function(){var x;try{x=d(y)}catch(k){return r.reject(m,k)}x===m?r.reject(m,new TypeError("Cannot resolve promise with itself")):r.resolve(m,x)})}function i(m){var d=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof d=="function")return function(){d.apply(m,arguments)}}function u(m,d){var y=!1;function x(F){y||(y=!0,r.reject(m,F))}function k(F){y||(y=!0,r.resolve(m,F))}var D=o(function(){d(k,x)});D.status==="error"&&x(D.value)}function o(m,d){var y={};try{y.value=m(d),y.status="success"}catch(x){y.status="error",y.value=x}return y}(E.exports=p).prototype.finally=function(m){if(typeof m!="function")return this;var d=this.constructor;return this.then(function(y){return d.resolve(m()).then(function(){return y})},function(y){return d.resolve(m()).then(function(){throw y})})},p.prototype.catch=function(m){return this.then(null,m)},p.prototype.then=function(m,d){if(typeof m!="function"&&this.state===h||typeof d!="function"&&this.state===n)return this;var y=new this.constructor(s);return this.state!==c?e(y,this.state===h?m:d,this.outcome):this.queue.push(new f(y,m,d)),y},f.prototype.callFulfilled=function(m){r.resolve(this.promise,m)},f.prototype.otherCallFulfilled=function(m){e(this.promise,this.onFulfilled,m)},f.prototype.callRejected=function(m){r.reject(this.promise,m)},f.prototype.otherCallRejected=function(m){e(this.promise,this.onRejected,m)},r.resolve=function(m,d){var y=o(i,d);if(y.status==="error")return r.reject(m,y.value);var x=y.value;if(x)u(m,x);else{m.state=h,m.outcome=d;for(var k=-1,D=m.queue.length;++k<D;)m.queue[k].callFulfilled(d)}return m},r.reject=function(m,d){m.state=n,m.outcome=d;for(var y=-1,x=m.queue.length;++y<x;)m.queue[y].callRejected(d);return m},p.resolve=function(m){return m instanceof this?m:r.resolve(new this(s),m)},p.reject=function(m){var d=new this(s);return r.reject(d,m)},p.all=function(m){var d=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=m.length,x=!1;if(!y)return this.resolve([]);for(var k=new Array(y),D=0,F=-1,T=new this(s);++F<y;)S(m[F],F);return T;function S(O,B){d.resolve(O).then(function(w){k[B]=w,++D!==y||x||(x=!0,r.resolve(T,k))},function(w){x||(x=!0,r.reject(T,w))})}},p.race=function(m){var d=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=m.length,x=!1;if(!y)return this.resolve([]);for(var k=-1,D=new this(s);++k<y;)F=m[k],d.resolve(F).then(function(T){x||(x=!0,r.resolve(D,T))},function(T){x||(x=!0,r.reject(D,T))});var F;return D}},{immediate:36}],38:[function(g,E,v){var l={};(0,g("./lib/utils/common").assign)(l,g("./lib/deflate"),g("./lib/inflate"),g("./lib/zlib/constants")),E.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(g,E,v){var l=g("./zlib/deflate"),s=g("./utils/common"),r=g("./utils/strings"),n=g("./zlib/messages"),h=g("./zlib/zstream"),c=Object.prototype.toString,p=0,f=-1,e=0,i=8;function u(m){if(!(this instanceof u))return new u(m);this.options=s.assign({level:f,method:i,chunkSize:16384,windowBits:15,memLevel:8,strategy:e,to:""},m||{});var d=this.options;d.raw&&0<d.windowBits?d.windowBits=-d.windowBits:d.gzip&&0<d.windowBits&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=l.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(y!==p)throw new Error(n[y]);if(d.header&&l.deflateSetHeader(this.strm,d.header),d.dictionary){var x;if(x=typeof d.dictionary=="string"?r.string2buf(d.dictionary):c.call(d.dictionary)==="[object ArrayBuffer]"?new Uint8Array(d.dictionary):d.dictionary,(y=l.deflateSetDictionary(this.strm,x))!==p)throw new Error(n[y]);this._dict_set=!0}}function o(m,d){var y=new u(d);if(y.push(m,!0),y.err)throw y.msg||n[y.err];return y.result}u.prototype.push=function(m,d){var y,x,k=this.strm,D=this.options.chunkSize;if(this.ended)return!1;x=d===~~d?d:d===!0?4:0,typeof m=="string"?k.input=r.string2buf(m):c.call(m)==="[object ArrayBuffer]"?k.input=new Uint8Array(m):k.input=m,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(D),k.next_out=0,k.avail_out=D),(y=l.deflate(k,x))!==1&&y!==p)return this.onEnd(y),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(s.shrinkBuf(k.output,k.next_out))):this.onData(s.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&y!==1);return x===4?(y=l.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===p):x!==2||(this.onEnd(p),!(k.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},v.Deflate=u,v.deflate=o,v.deflateRaw=function(m,d){return(d=d||{}).raw=!0,o(m,d)},v.gzip=function(m,d){return(d=d||{}).gzip=!0,o(m,d)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(g,E,v){var l=g("./zlib/inflate"),s=g("./utils/common"),r=g("./utils/strings"),n=g("./zlib/constants"),h=g("./zlib/messages"),c=g("./zlib/zstream"),p=g("./zlib/gzheader"),f=Object.prototype.toString;function e(u){if(!(this instanceof e))return new e(u);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},u||{});var o=this.options;o.raw&&0<=o.windowBits&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),!(0<=o.windowBits&&o.windowBits<16)||u&&u.windowBits||(o.windowBits+=32),15<o.windowBits&&o.windowBits<48&&(15&o.windowBits)==0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=l.inflateInit2(this.strm,o.windowBits);if(m!==n.Z_OK)throw new Error(h[m]);this.header=new p,l.inflateGetHeader(this.strm,this.header)}function i(u,o){var m=new e(o);if(m.push(u,!0),m.err)throw m.msg||h[m.err];return m.result}e.prototype.push=function(u,o){var m,d,y,x,k,D,F=this.strm,T=this.options.chunkSize,S=this.options.dictionary,O=!1;if(this.ended)return!1;d=o===~~o?o:o===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof u=="string"?F.input=r.binstring2buf(u):f.call(u)==="[object ArrayBuffer]"?F.input=new Uint8Array(u):F.input=u,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new s.Buf8(T),F.next_out=0,F.avail_out=T),(m=l.inflate(F,n.Z_NO_FLUSH))===n.Z_NEED_DICT&&S&&(D=typeof S=="string"?r.string2buf(S):f.call(S)==="[object ArrayBuffer]"?new Uint8Array(S):S,m=l.inflateSetDictionary(this.strm,D)),m===n.Z_BUF_ERROR&&O===!0&&(m=n.Z_OK,O=!1),m!==n.Z_STREAM_END&&m!==n.Z_OK)return this.onEnd(m),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&m!==n.Z_STREAM_END&&(F.avail_in!==0||d!==n.Z_FINISH&&d!==n.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=r.utf8border(F.output,F.next_out),x=F.next_out-y,k=r.buf2string(F.output,y),F.next_out=x,F.avail_out=T-x,x&&s.arraySet(F.output,F.output,y,x,0),this.onData(k)):this.onData(s.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(O=!0)}while((0<F.avail_in||F.avail_out===0)&&m!==n.Z_STREAM_END);return m===n.Z_STREAM_END&&(d=n.Z_FINISH),d===n.Z_FINISH?(m=l.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===n.Z_OK):d!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),!(F.avail_out=0))},e.prototype.onData=function(u){this.chunks.push(u)},e.prototype.onEnd=function(u){u===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},v.Inflate=e,v.inflate=i,v.inflateRaw=function(u,o){return(o=o||{}).raw=!0,i(u,o)},v.ungzip=i},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(g,E,v){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(n){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var c=h.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var p in c)c.hasOwnProperty(p)&&(n[p]=c[p])}}return n},v.shrinkBuf=function(n,h){return n.length===h?n:n.subarray?n.subarray(0,h):(n.length=h,n)};var s={arraySet:function(n,h,c,p,f){if(h.subarray&&n.subarray)n.set(h.subarray(c,c+p),f);else for(var e=0;e<p;e++)n[f+e]=h[c+e]},flattenChunks:function(n){var h,c,p,f,e,i;for(h=p=0,c=n.length;h<c;h++)p+=n[h].length;for(i=new Uint8Array(p),h=f=0,c=n.length;h<c;h++)e=n[h],i.set(e,f),f+=e.length;return i}},r={arraySet:function(n,h,c,p,f){for(var e=0;e<p;e++)n[f+e]=h[c+e]},flattenChunks:function(n){return[].concat.apply([],n)}};v.setTyped=function(n){n?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,s)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,r))},v.setTyped(l)},{}],42:[function(g,E,v){var l=g("./common"),s=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var n=new l.Buf8(256),h=0;h<256;h++)n[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function c(p,f){if(f<65537&&(p.subarray&&r||!p.subarray&&s))return String.fromCharCode.apply(null,l.shrinkBuf(p,f));for(var e="",i=0;i<f;i++)e+=String.fromCharCode(p[i]);return e}n[254]=n[254]=1,v.string2buf=function(p){var f,e,i,u,o,m=p.length,d=0;for(u=0;u<m;u++)(64512&(e=p.charCodeAt(u)))==55296&&u+1<m&&(64512&(i=p.charCodeAt(u+1)))==56320&&(e=65536+(e-55296<<10)+(i-56320),u++),d+=e<128?1:e<2048?2:e<65536?3:4;for(f=new l.Buf8(d),u=o=0;o<d;u++)(64512&(e=p.charCodeAt(u)))==55296&&u+1<m&&(64512&(i=p.charCodeAt(u+1)))==56320&&(e=65536+(e-55296<<10)+(i-56320),u++),e<128?f[o++]=e:(e<2048?f[o++]=192|e>>>6:(e<65536?f[o++]=224|e>>>12:(f[o++]=240|e>>>18,f[o++]=128|e>>>12&63),f[o++]=128|e>>>6&63),f[o++]=128|63&e);return f},v.buf2binstring=function(p){return c(p,p.length)},v.binstring2buf=function(p){for(var f=new l.Buf8(p.length),e=0,i=f.length;e<i;e++)f[e]=p.charCodeAt(e);return f},v.buf2string=function(p,f){var e,i,u,o,m=f||p.length,d=new Array(2*m);for(e=i=0;e<m;)if((u=p[e++])<128)d[i++]=u;else if(4<(o=n[u]))d[i++]=65533,e+=o-1;else{for(u&=o===2?31:o===3?15:7;1<o&&e<m;)u=u<<6|63&p[e++],o--;1<o?d[i++]=65533:u<65536?d[i++]=u:(u-=65536,d[i++]=55296|u>>10&1023,d[i++]=56320|1023&u)}return c(d,i)},v.utf8border=function(p,f){var e;for((f=f||p.length)>p.length&&(f=p.length),e=f-1;0<=e&&(192&p[e])==128;)e--;return e<0||e===0?f:e+n[p[e]]>f?e:f}},{"./common":41}],43:[function(g,E,v){E.exports=function(l,s,r,n){for(var h=65535&l|0,c=l>>>16&65535|0,p=0;r!==0;){for(r-=p=2e3<r?2e3:r;c=c+(h=h+s[n++]|0)|0,--p;);h%=65521,c%=65521}return h|c<<16|0}},{}],44:[function(g,E,v){E.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(g,E,v){var l=(function(){for(var s,r=[],n=0;n<256;n++){s=n;for(var h=0;h<8;h++)s=1&s?3988292384^s>>>1:s>>>1;r[n]=s}return r})();E.exports=function(s,r,n,h){var c=l,p=h+n;s^=-1;for(var f=h;f<p;f++)s=s>>>8^c[255&(s^r[f])];return-1^s}},{}],46:[function(g,E,v){var l,s=g("../utils/common"),r=g("./trees"),n=g("./adler32"),h=g("./crc32"),c=g("./messages"),p=0,f=4,e=0,i=-2,u=-1,o=4,m=2,d=8,y=9,x=286,k=30,D=19,F=2*x+1,T=15,S=3,O=258,B=O+S+1,w=42,L=113,a=1,N=2,Y=3,j=4;function J(t,U){return t.msg=c[U],U}function W(t){return(t<<1)-(4<t?9:0)}function ie(t){for(var U=t.length;0<=--U;)t[U]=0}function M(t){var U=t.state,z=U.pending;z>t.avail_out&&(z=t.avail_out),z!==0&&(s.arraySet(t.output,U.pending_buf,U.pending_out,z,t.next_out),t.next_out+=z,U.pending_out+=z,t.total_out+=z,t.avail_out-=z,U.pending-=z,U.pending===0&&(U.pending_out=0))}function I(t,U){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,U),t.block_start=t.strstart,M(t.strm)}function le(t,U){t.pending_buf[t.pending++]=U}function q(t,U){t.pending_buf[t.pending++]=U>>>8&255,t.pending_buf[t.pending++]=255&U}function V(t,U){var z,_,b=t.max_chain_length,C=t.strstart,H=t.prev_length,Z=t.nice_match,R=t.strstart>t.w_size-B?t.strstart-(t.w_size-B):0,Q=t.window,ae=t.w_mask,ee=t.prev,pe=t.strstart+O,xe=Q[C+H-1],ye=Q[C+H];t.prev_length>=t.good_match&&(b>>=2),Z>t.lookahead&&(Z=t.lookahead);do if(Q[(z=U)+H]===ye&&Q[z+H-1]===xe&&Q[z]===Q[C]&&Q[++z]===Q[C+1]){C+=2,z++;do;while(Q[++C]===Q[++z]&&Q[++C]===Q[++z]&&Q[++C]===Q[++z]&&Q[++C]===Q[++z]&&Q[++C]===Q[++z]&&Q[++C]===Q[++z]&&Q[++C]===Q[++z]&&Q[++C]===Q[++z]&&C<pe);if(_=O-(pe-C),C=pe-O,H<_){if(t.match_start=U,Z<=(H=_))break;xe=Q[C+H-1],ye=Q[C+H]}}while((U=ee[U&ae])>R&&--b!=0);return H<=t.lookahead?H:t.lookahead}function de(t){var U,z,_,b,C,H,Z,R,Q,ae,ee=t.w_size;do{if(b=t.window_size-t.lookahead-t.strstart,t.strstart>=ee+(ee-B)){for(s.arraySet(t.window,t.window,ee,ee,0),t.match_start-=ee,t.strstart-=ee,t.block_start-=ee,U=z=t.hash_size;_=t.head[--U],t.head[U]=ee<=_?_-ee:0,--z;);for(U=z=ee;_=t.prev[--U],t.prev[U]=ee<=_?_-ee:0,--z;);b+=ee}if(t.strm.avail_in===0)break;if(H=t.strm,Z=t.window,R=t.strstart+t.lookahead,Q=b,ae=void 0,ae=H.avail_in,Q<ae&&(ae=Q),z=ae===0?0:(H.avail_in-=ae,s.arraySet(Z,H.input,H.next_in,ae,R),H.state.wrap===1?H.adler=n(H.adler,Z,ae,R):H.state.wrap===2&&(H.adler=h(H.adler,Z,ae,R)),H.next_in+=ae,H.total_in+=ae,ae),t.lookahead+=z,t.lookahead+t.insert>=S)for(C=t.strstart-t.insert,t.ins_h=t.window[C],t.ins_h=(t.ins_h<<t.hash_shift^t.window[C+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[C+S-1])&t.hash_mask,t.prev[C&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=C,C++,t.insert--,!(t.lookahead+t.insert<S)););}while(t.lookahead<B&&t.strm.avail_in!==0)}function we(t,U){for(var z,_;;){if(t.lookahead<B){if(de(t),t.lookahead<B&&U===p)return a;if(t.lookahead===0)break}if(z=0,t.lookahead>=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,z=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),z!==0&&t.strstart-z<=t.w_size-B&&(t.match_length=V(t,z)),t.match_length>=S)if(_=r._tr_tally(t,t.strstart-t.match_start,t.match_length-S),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=S){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,z=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else _=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(_&&(I(t,!1),t.strm.avail_out===0))return a}return t.insert=t.strstart<S-1?t.strstart:S-1,U===f?(I(t,!0),t.strm.avail_out===0?Y:j):t.last_lit&&(I(t,!1),t.strm.avail_out===0)?a:N}function ve(t,U){for(var z,_,b;;){if(t.lookahead<B){if(de(t),t.lookahead<B&&U===p)return a;if(t.lookahead===0)break}if(z=0,t.lookahead>=S&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,z=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=S-1,z!==0&&t.prev_length<t.max_lazy_match&&t.strstart-z<=t.w_size-B&&(t.match_length=V(t,z),t.match_length<=5&&(t.strategy===1||t.match_length===S&&4096<t.strstart-t.match_start)&&(t.match_length=S-1)),t.prev_length>=S&&t.match_length<=t.prev_length){for(b=t.strstart+t.lookahead-S,_=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-S),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=b&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+S-1])&t.hash_mask,z=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=S-1,t.strstart++,_&&(I(t,!1),t.strm.avail_out===0))return a}else if(t.match_available){if((_=r._tr_tally(t,0,t.window[t.strstart-1]))&&I(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return a}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(_=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<S-1?t.strstart:S-1,U===f?(I(t,!0),t.strm.avail_out===0?Y:j):t.last_lit&&(I(t,!1),t.strm.avail_out===0)?a:N}function me(t,U,z,_,b){this.good_length=t,this.max_lazy=U,this.nice_length=z,this.max_chain=_,this.func=b}function Se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*F),this.dyn_dtree=new s.Buf16(2*(2*k+1)),this.bl_tree=new s.Buf16(2*(2*D+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(T+1),this.heap=new s.Buf16(2*x+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function re(t){var U;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=m,(U=t.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?w:L,t.adler=U.wrap===2?0:1,U.last_flush=p,r._tr_init(U),e):J(t,i)}function se(t){var U=re(t);return U===e&&(function(z){z.window_size=2*z.w_size,ie(z.head),z.max_lazy_match=l[z.level].max_lazy,z.good_match=l[z.level].good_length,z.nice_match=l[z.level].nice_length,z.max_chain_length=l[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=S-1,z.match_available=0,z.ins_h=0})(t.state),U}function be(t,U,z,_,b,C){if(!t)return i;var H=1;if(U===u&&(U=6),_<0?(H=0,_=-_):15<_&&(H=2,_-=16),b<1||y<b||z!==d||_<8||15<_||U<0||9<U||C<0||o<C)return J(t,i);_===8&&(_=9);var Z=new Se;return(t.state=Z).strm=t,Z.wrap=H,Z.gzhead=null,Z.w_bits=_,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=b+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+S-1)/S),Z.window=new s.Buf8(2*Z.w_size),Z.head=new s.Buf16(Z.hash_size),Z.prev=new s.Buf16(Z.w_size),Z.lit_bufsize=1<<b+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new s.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=U,Z.strategy=C,Z.method=z,se(t)}l=[new me(0,0,0,0,function(t,U){var z=65535;for(z>t.pending_buf_size-5&&(z=t.pending_buf_size-5);;){if(t.lookahead<=1){if(de(t),t.lookahead===0&&U===p)return a;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var _=t.block_start+z;if((t.strstart===0||t.strstart>=_)&&(t.lookahead=t.strstart-_,t.strstart=_,I(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-B&&(I(t,!1),t.strm.avail_out===0))return a}return t.insert=0,U===f?(I(t,!0),t.strm.avail_out===0?Y:j):(t.strstart>t.block_start&&(I(t,!1),t.strm.avail_out),a)}),new me(4,4,8,4,we),new me(4,5,16,8,we),new me(4,6,32,32,we),new me(4,4,16,16,ve),new me(8,16,32,32,ve),new me(8,16,128,128,ve),new me(8,32,128,256,ve),new me(32,128,258,1024,ve),new me(32,258,258,4096,ve)],v.deflateInit=function(t,U){return be(t,U,d,15,8,0)},v.deflateInit2=be,v.deflateReset=se,v.deflateResetKeep=re,v.deflateSetHeader=function(t,U){return t&&t.state?t.state.wrap!==2?i:(t.state.gzhead=U,e):i},v.deflate=function(t,U){var z,_,b,C;if(!t||!t.state||5<U||U<0)return t?J(t,i):i;if(_=t.state,!t.output||!t.input&&t.avail_in!==0||_.status===666&&U!==f)return J(t,t.avail_out===0?-5:i);if(_.strm=t,z=_.last_flush,_.last_flush=U,_.status===w)if(_.wrap===2)t.adler=0,le(_,31),le(_,139),le(_,8),_.gzhead?(le(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),le(_,255&_.gzhead.time),le(_,_.gzhead.time>>8&255),le(_,_.gzhead.time>>16&255),le(_,_.gzhead.time>>24&255),le(_,_.level===9?2:2<=_.strategy||_.level<2?4:0),le(_,255&_.gzhead.os),_.gzhead.extra&&_.gzhead.extra.length&&(le(_,255&_.gzhead.extra.length),le(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(t.adler=h(t.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=69):(le(_,0),le(_,0),le(_,0),le(_,0),le(_,0),le(_,_.level===9?2:2<=_.strategy||_.level<2?4:0),le(_,3),_.status=L);else{var H=d+(_.w_bits-8<<4)<<8;H|=(2<=_.strategy||_.level<2?0:_.level<6?1:_.level===6?2:3)<<6,_.strstart!==0&&(H|=32),H+=31-H%31,_.status=L,q(_,H),_.strstart!==0&&(q(_,t.adler>>>16),q(_,65535&t.adler)),t.adler=1}if(_.status===69)if(_.gzhead.extra){for(b=_.pending;_.gzindex<(65535&_.gzhead.extra.length)&&(_.pending!==_.pending_buf_size||(_.gzhead.hcrc&&_.pending>b&&(t.adler=h(t.adler,_.pending_buf,_.pending-b,b)),M(t),b=_.pending,_.pending!==_.pending_buf_size));)le(_,255&_.gzhead.extra[_.gzindex]),_.gzindex++;_.gzhead.hcrc&&_.pending>b&&(t.adler=h(t.adler,_.pending_buf,_.pending-b,b)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=73)}else _.status=73;if(_.status===73)if(_.gzhead.name){b=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>b&&(t.adler=h(t.adler,_.pending_buf,_.pending-b,b)),M(t),b=_.pending,_.pending===_.pending_buf_size)){C=1;break}C=_.gzindex<_.gzhead.name.length?255&_.gzhead.name.charCodeAt(_.gzindex++):0,le(_,C)}while(C!==0);_.gzhead.hcrc&&_.pending>b&&(t.adler=h(t.adler,_.pending_buf,_.pending-b,b)),C===0&&(_.gzindex=0,_.status=91)}else _.status=91;if(_.status===91)if(_.gzhead.comment){b=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>b&&(t.adler=h(t.adler,_.pending_buf,_.pending-b,b)),M(t),b=_.pending,_.pending===_.pending_buf_size)){C=1;break}C=_.gzindex<_.gzhead.comment.length?255&_.gzhead.comment.charCodeAt(_.gzindex++):0,le(_,C)}while(C!==0);_.gzhead.hcrc&&_.pending>b&&(t.adler=h(t.adler,_.pending_buf,_.pending-b,b)),C===0&&(_.status=103)}else _.status=103;if(_.status===103&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&M(t),_.pending+2<=_.pending_buf_size&&(le(_,255&t.adler),le(_,t.adler>>8&255),t.adler=0,_.status=L)):_.status=L),_.pending!==0){if(M(t),t.avail_out===0)return _.last_flush=-1,e}else if(t.avail_in===0&&W(U)<=W(z)&&U!==f)return J(t,-5);if(_.status===666&&t.avail_in!==0)return J(t,-5);if(t.avail_in!==0||_.lookahead!==0||U!==p&&_.status!==666){var Z=_.strategy===2?(function(R,Q){for(var ae;;){if(R.lookahead===0&&(de(R),R.lookahead===0)){if(Q===p)return a;break}if(R.match_length=0,ae=r._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,ae&&(I(R,!1),R.strm.avail_out===0))return a}return R.insert=0,Q===f?(I(R,!0),R.strm.avail_out===0?Y:j):R.last_lit&&(I(R,!1),R.strm.avail_out===0)?a:N})(_,U):_.strategy===3?(function(R,Q){for(var ae,ee,pe,xe,ye=R.window;;){if(R.lookahead<=O){if(de(R),R.lookahead<=O&&Q===p)return a;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=S&&0<R.strstart&&(ee=ye[pe=R.strstart-1])===ye[++pe]&&ee===ye[++pe]&&ee===ye[++pe]){xe=R.strstart+O;do;while(ee===ye[++pe]&&ee===ye[++pe]&&ee===ye[++pe]&&ee===ye[++pe]&&ee===ye[++pe]&&ee===ye[++pe]&&ee===ye[++pe]&&ee===ye[++pe]&&pe<xe);R.match_length=O-(xe-pe),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=S?(ae=r._tr_tally(R,1,R.match_length-S),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(ae=r._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),ae&&(I(R,!1),R.strm.avail_out===0))return a}return R.insert=0,Q===f?(I(R,!0),R.strm.avail_out===0?Y:j):R.last_lit&&(I(R,!1),R.strm.avail_out===0)?a:N})(_,U):l[_.level].func(_,U);if(Z!==Y&&Z!==j||(_.status=666),Z===a||Z===Y)return t.avail_out===0&&(_.last_flush=-1),e;if(Z===N&&(U===1?r._tr_align(_):U!==5&&(r._tr_stored_block(_,0,0,!1),U===3&&(ie(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),M(t),t.avail_out===0))return _.last_flush=-1,e}return U!==f?e:_.wrap<=0?1:(_.wrap===2?(le(_,255&t.adler),le(_,t.adler>>8&255),le(_,t.adler>>16&255),le(_,t.adler>>24&255),le(_,255&t.total_in),le(_,t.total_in>>8&255),le(_,t.total_in>>16&255),le(_,t.total_in>>24&255)):(q(_,t.adler>>>16),q(_,65535&t.adler)),M(t),0<_.wrap&&(_.wrap=-_.wrap),_.pending!==0?e:1)},v.deflateEnd=function(t){var U;return t&&t.state?(U=t.state.status)!==w&&U!==69&&U!==73&&U!==91&&U!==103&&U!==L&&U!==666?J(t,i):(t.state=null,U===L?J(t,-3):e):i},v.deflateSetDictionary=function(t,U){var z,_,b,C,H,Z,R,Q,ae=U.length;if(!t||!t.state||(C=(z=t.state).wrap)===2||C===1&&z.status!==w||z.lookahead)return i;for(C===1&&(t.adler=n(t.adler,U,ae,0)),z.wrap=0,ae>=z.w_size&&(C===0&&(ie(z.head),z.strstart=0,z.block_start=0,z.insert=0),Q=new s.Buf8(z.w_size),s.arraySet(Q,U,ae-z.w_size,z.w_size,0),U=Q,ae=z.w_size),H=t.avail_in,Z=t.next_in,R=t.input,t.avail_in=ae,t.next_in=0,t.input=U,de(z);z.lookahead>=S;){for(_=z.strstart,b=z.lookahead-(S-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[_+S-1])&z.hash_mask,z.prev[_&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=_,_++,--b;);z.strstart=_,z.lookahead=S-1,de(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=S-1,z.match_available=0,t.next_in=Z,t.input=R,t.avail_in=H,z.wrap=C,e},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(g,E,v){E.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(g,E,v){E.exports=function(l,s){var r,n,h,c,p,f,e,i,u,o,m,d,y,x,k,D,F,T,S,O,B,w,L,a,N;r=l.state,n=l.next_in,a=l.input,h=n+(l.avail_in-5),c=l.next_out,N=l.output,p=c-(s-l.avail_out),f=c+(l.avail_out-257),e=r.dmax,i=r.wsize,u=r.whave,o=r.wnext,m=r.window,d=r.hold,y=r.bits,x=r.lencode,k=r.distcode,D=(1<<r.lenbits)-1,F=(1<<r.distbits)-1;e:do{y<15&&(d+=a[n++]<<y,y+=8,d+=a[n++]<<y,y+=8),T=x[d&D];t:for(;;){if(d>>>=S=T>>>24,y-=S,(S=T>>>16&255)===0)N[c++]=65535&T;else{if(!(16&S)){if((64&S)==0){T=x[(65535&T)+(d&(1<<S)-1)];continue t}if(32&S){r.mode=12;break e}l.msg="invalid literal/length code",r.mode=30;break e}O=65535&T,(S&=15)&&(y<S&&(d+=a[n++]<<y,y+=8),O+=d&(1<<S)-1,d>>>=S,y-=S),y<15&&(d+=a[n++]<<y,y+=8,d+=a[n++]<<y,y+=8),T=k[d&F];r:for(;;){if(d>>>=S=T>>>24,y-=S,!(16&(S=T>>>16&255))){if((64&S)==0){T=k[(65535&T)+(d&(1<<S)-1)];continue r}l.msg="invalid distance code",r.mode=30;break e}if(B=65535&T,y<(S&=15)&&(d+=a[n++]<<y,(y+=8)<S&&(d+=a[n++]<<y,y+=8)),e<(B+=d&(1<<S)-1)){l.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=S,y-=S,(S=c-p)<B){if(u<(S=B-S)&&r.sane){l.msg="invalid distance too far back",r.mode=30;break e}if(L=m,(w=0)===o){if(w+=i-S,S<O){for(O-=S;N[c++]=m[w++],--S;);w=c-B,L=N}}else if(o<S){if(w+=i+o-S,(S-=o)<O){for(O-=S;N[c++]=m[w++],--S;);if(w=0,o<O){for(O-=S=o;N[c++]=m[w++],--S;);w=c-B,L=N}}}else if(w+=o-S,S<O){for(O-=S;N[c++]=m[w++],--S;);w=c-B,L=N}for(;2<O;)N[c++]=L[w++],N[c++]=L[w++],N[c++]=L[w++],O-=3;O&&(N[c++]=L[w++],1<O&&(N[c++]=L[w++]))}else{for(w=c-B;N[c++]=N[w++],N[c++]=N[w++],N[c++]=N[w++],2<(O-=3););O&&(N[c++]=N[w++],1<O&&(N[c++]=N[w++]))}break}}break}}while(n<h&&c<f);n-=O=y>>3,d&=(1<<(y-=O<<3))-1,l.next_in=n,l.next_out=c,l.avail_in=n<h?h-n+5:5-(n-h),l.avail_out=c<f?f-c+257:257-(c-f),r.hold=d,r.bits=y}},{}],49:[function(g,E,v){var l=g("../utils/common"),s=g("./adler32"),r=g("./crc32"),n=g("./inffast"),h=g("./inftrees"),c=1,p=2,f=0,e=-2,i=1,u=852,o=592;function m(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(w){var L;return w&&w.state?(L=w.state,w.total_in=w.total_out=L.total=0,w.msg="",L.wrap&&(w.adler=1&L.wrap),L.mode=i,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new l.Buf32(u),L.distcode=L.distdyn=new l.Buf32(o),L.sane=1,L.back=-1,f):e}function x(w){var L;return w&&w.state?((L=w.state).wsize=0,L.whave=0,L.wnext=0,y(w)):e}function k(w,L){var a,N;return w&&w.state?(N=w.state,L<0?(a=0,L=-L):(a=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?e:(N.window!==null&&N.wbits!==L&&(N.window=null),N.wrap=a,N.wbits=L,x(w))):e}function D(w,L){var a,N;return w?(N=new d,(w.state=N).window=null,(a=k(w,L))!==f&&(w.state=null),a):e}var F,T,S=!0;function O(w){if(S){var L;for(F=new l.Buf32(512),T=new l.Buf32(32),L=0;L<144;)w.lens[L++]=8;for(;L<256;)w.lens[L++]=9;for(;L<280;)w.lens[L++]=7;for(;L<288;)w.lens[L++]=8;for(h(c,w.lens,0,288,F,0,w.work,{bits:9}),L=0;L<32;)w.lens[L++]=5;h(p,w.lens,0,32,T,0,w.work,{bits:5}),S=!1}w.lencode=F,w.lenbits=9,w.distcode=T,w.distbits=5}function B(w,L,a,N){var Y,j=w.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new l.Buf8(j.wsize)),N>=j.wsize?(l.arraySet(j.window,L,a-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(N<(Y=j.wsize-j.wnext)&&(Y=N),l.arraySet(j.window,L,a-N,Y,j.wnext),(N-=Y)?(l.arraySet(j.window,L,a-N,N,0),j.wnext=N,j.whave=j.wsize):(j.wnext+=Y,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=Y))),0}v.inflateReset=x,v.inflateReset2=k,v.inflateResetKeep=y,v.inflateInit=function(w){return D(w,15)},v.inflateInit2=D,v.inflate=function(w,L){var a,N,Y,j,J,W,ie,M,I,le,q,V,de,we,ve,me,Se,re,se,be,t,U,z,_,b=0,C=new l.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return e;(a=w.state).mode===12&&(a.mode=13),J=w.next_out,Y=w.output,ie=w.avail_out,j=w.next_in,N=w.input,W=w.avail_in,M=a.hold,I=a.bits,le=W,q=ie,U=f;e:for(;;)switch(a.mode){case i:if(a.wrap===0){a.mode=13;break}for(;I<16;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if(2&a.wrap&&M===35615){C[a.check=0]=255&M,C[1]=M>>>8&255,a.check=r(a.check,C,2,0),I=M=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&M)<<8)+(M>>8))%31){w.msg="incorrect header check",a.mode=30;break}if((15&M)!=8){w.msg="unknown compression method",a.mode=30;break}if(I-=4,t=8+(15&(M>>>=4)),a.wbits===0)a.wbits=t;else if(t>a.wbits){w.msg="invalid window size",a.mode=30;break}a.dmax=1<<t,w.adler=a.check=1,a.mode=512&M?10:12,I=M=0;break;case 2:for(;I<16;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if(a.flags=M,(255&a.flags)!=8){w.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){w.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=M>>8&1),512&a.flags&&(C[0]=255&M,C[1]=M>>>8&255,a.check=r(a.check,C,2,0)),I=M=0,a.mode=3;case 3:for(;I<32;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}a.head&&(a.head.time=M),512&a.flags&&(C[0]=255&M,C[1]=M>>>8&255,C[2]=M>>>16&255,C[3]=M>>>24&255,a.check=r(a.check,C,4,0)),I=M=0,a.mode=4;case 4:for(;I<16;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}a.head&&(a.head.xflags=255&M,a.head.os=M>>8),512&a.flags&&(C[0]=255&M,C[1]=M>>>8&255,a.check=r(a.check,C,2,0)),I=M=0,a.mode=5;case 5:if(1024&a.flags){for(;I<16;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}a.length=M,a.head&&(a.head.extra_len=M),512&a.flags&&(C[0]=255&M,C[1]=M>>>8&255,a.check=r(a.check,C,2,0)),I=M=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(W<(V=a.length)&&(V=W),V&&(a.head&&(t=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),l.arraySet(a.head.extra,N,j,V,t)),512&a.flags&&(a.check=r(a.check,N,V,j)),W-=V,j+=V,a.length-=V),a.length))break e;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(W===0)break e;for(V=0;t=N[j+V++],a.head&&t&&a.length<65536&&(a.head.name+=String.fromCharCode(t)),t&&V<W;);if(512&a.flags&&(a.check=r(a.check,N,V,j)),W-=V,j+=V,t)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(W===0)break e;for(V=0;t=N[j+V++],a.head&&t&&a.length<65536&&(a.head.comment+=String.fromCharCode(t)),t&&V<W;);if(512&a.flags&&(a.check=r(a.check,N,V,j)),W-=V,j+=V,t)break e}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;I<16;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if(M!==(65535&a.check)){w.msg="header crc mismatch",a.mode=30;break}I=M=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),w.adler=a.check=0,a.mode=12;break;case 10:for(;I<32;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}w.adler=a.check=m(M),I=M=0,a.mode=11;case 11:if(a.havedict===0)return w.next_out=J,w.avail_out=ie,w.next_in=j,w.avail_in=W,a.hold=M,a.bits=I,2;w.adler=a.check=1,a.mode=12;case 12:if(L===5||L===6)break e;case 13:if(a.last){M>>>=7&I,I-=7&I,a.mode=27;break}for(;I<3;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}switch(a.last=1&M,I-=1,3&(M>>>=1)){case 0:a.mode=14;break;case 1:if(O(a),a.mode=20,L!==6)break;M>>>=2,I-=2;break e;case 2:a.mode=17;break;case 3:w.msg="invalid block type",a.mode=30}M>>>=2,I-=2;break;case 14:for(M>>>=7&I,I-=7&I;I<32;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if((65535&M)!=(M>>>16^65535)){w.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&M,I=M=0,a.mode=15,L===6)break e;case 15:a.mode=16;case 16:if(V=a.length){if(W<V&&(V=W),ie<V&&(V=ie),V===0)break e;l.arraySet(Y,N,j,V,J),W-=V,j+=V,ie-=V,J+=V,a.length-=V;break}a.mode=12;break;case 17:for(;I<14;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if(a.nlen=257+(31&M),M>>>=5,I-=5,a.ndist=1+(31&M),M>>>=5,I-=5,a.ncode=4+(15&M),M>>>=4,I-=4,286<a.nlen||30<a.ndist){w.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;I<3;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}a.lens[H[a.have++]]=7&M,M>>>=3,I-=3}for(;a.have<19;)a.lens[H[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},U=h(0,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,U){w.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;me=(b=a.lencode[M&(1<<a.lenbits)-1])>>>16&255,Se=65535&b,!((ve=b>>>24)<=I);){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if(Se<16)M>>>=ve,I-=ve,a.lens[a.have++]=Se;else{if(Se===16){for(_=ve+2;I<_;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if(M>>>=ve,I-=ve,a.have===0){w.msg="invalid bit length repeat",a.mode=30;break}t=a.lens[a.have-1],V=3+(3&M),M>>>=2,I-=2}else if(Se===17){for(_=ve+3;I<_;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}I-=ve,t=0,V=3+(7&(M>>>=ve)),M>>>=3,I-=3}else{for(_=ve+7;I<_;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}I-=ve,t=0,V=11+(127&(M>>>=ve)),M>>>=7,I-=7}if(a.have+V>a.nlen+a.ndist){w.msg="invalid bit length repeat",a.mode=30;break}for(;V--;)a.lens[a.have++]=t}}if(a.mode===30)break;if(a.lens[256]===0){w.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,z={bits:a.lenbits},U=h(c,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,U){w.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},U=h(p,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,U){w.msg="invalid distances set",a.mode=30;break}if(a.mode=20,L===6)break e;case 20:a.mode=21;case 21:if(6<=W&&258<=ie){w.next_out=J,w.avail_out=ie,w.next_in=j,w.avail_in=W,a.hold=M,a.bits=I,n(w,q),J=w.next_out,Y=w.output,ie=w.avail_out,j=w.next_in,N=w.input,W=w.avail_in,M=a.hold,I=a.bits,a.mode===12&&(a.back=-1);break}for(a.back=0;me=(b=a.lencode[M&(1<<a.lenbits)-1])>>>16&255,Se=65535&b,!((ve=b>>>24)<=I);){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if(me&&(240&me)==0){for(re=ve,se=me,be=Se;me=(b=a.lencode[be+((M&(1<<re+se)-1)>>re)])>>>16&255,Se=65535&b,!(re+(ve=b>>>24)<=I);){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}M>>>=re,I-=re,a.back+=re}if(M>>>=ve,I-=ve,a.back+=ve,a.length=Se,me===0){a.mode=26;break}if(32&me){a.back=-1,a.mode=12;break}if(64&me){w.msg="invalid literal/length code",a.mode=30;break}a.extra=15&me,a.mode=22;case 22:if(a.extra){for(_=a.extra;I<_;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}a.length+=M&(1<<a.extra)-1,M>>>=a.extra,I-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;me=(b=a.distcode[M&(1<<a.distbits)-1])>>>16&255,Se=65535&b,!((ve=b>>>24)<=I);){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if((240&me)==0){for(re=ve,se=me,be=Se;me=(b=a.distcode[be+((M&(1<<re+se)-1)>>re)])>>>16&255,Se=65535&b,!(re+(ve=b>>>24)<=I);){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}M>>>=re,I-=re,a.back+=re}if(M>>>=ve,I-=ve,a.back+=ve,64&me){w.msg="invalid distance code",a.mode=30;break}a.offset=Se,a.extra=15&me,a.mode=24;case 24:if(a.extra){for(_=a.extra;I<_;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}a.offset+=M&(1<<a.extra)-1,M>>>=a.extra,I-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){w.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(ie===0)break e;if(V=q-ie,a.offset>V){if((V=a.offset-V)>a.whave&&a.sane){w.msg="invalid distance too far back",a.mode=30;break}de=V>a.wnext?(V-=a.wnext,a.wsize-V):a.wnext-V,V>a.length&&(V=a.length),we=a.window}else we=Y,de=J-a.offset,V=a.length;for(ie<V&&(V=ie),ie-=V,a.length-=V;Y[J++]=we[de++],--V;);a.length===0&&(a.mode=21);break;case 26:if(ie===0)break e;Y[J++]=a.length,ie--,a.mode=21;break;case 27:if(a.wrap){for(;I<32;){if(W===0)break e;W--,M|=N[j++]<<I,I+=8}if(q-=ie,w.total_out+=q,a.total+=q,q&&(w.adler=a.check=a.flags?r(a.check,Y,q,J-q):s(a.check,Y,q,J-q)),q=ie,(a.flags?M:m(M))!==a.check){w.msg="incorrect data check",a.mode=30;break}I=M=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;I<32;){if(W===0)break e;W--,M+=N[j++]<<I,I+=8}if(M!==(4294967295&a.total)){w.msg="incorrect length check",a.mode=30;break}I=M=0}a.mode=29;case 29:U=1;break e;case 30:U=-3;break e;case 31:return-4;case 32:default:return e}return w.next_out=J,w.avail_out=ie,w.next_in=j,w.avail_in=W,a.hold=M,a.bits=I,(a.wsize||q!==w.avail_out&&a.mode<30&&(a.mode<27||L!==4))&&B(w,w.output,w.next_out,q-w.avail_out)?(a.mode=31,-4):(le-=w.avail_in,q-=w.avail_out,w.total_in+=le,w.total_out+=q,a.total+=q,a.wrap&&q&&(w.adler=a.check=a.flags?r(a.check,Y,q,w.next_out-q):s(a.check,Y,q,w.next_out-q)),w.data_type=a.bits+(a.last?64:0)+(a.mode===12?128:0)+(a.mode===20||a.mode===15?256:0),(le==0&&q===0||L===4)&&U===f&&(U=-5),U)},v.inflateEnd=function(w){if(!w||!w.state)return e;var L=w.state;return L.window&&(L.window=null),w.state=null,f},v.inflateGetHeader=function(w,L){var a;return w&&w.state?(2&(a=w.state).wrap)==0?e:((a.head=L).done=!1,f):e},v.inflateSetDictionary=function(w,L){var a,N=L.length;return w&&w.state?(a=w.state).wrap!==0&&a.mode!==11?e:a.mode===11&&s(1,L,N,0)!==a.check?-3:B(w,L,N,N)?(a.mode=31,-4):(a.havedict=1,f):e},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(g,E,v){var l=g("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];E.exports=function(c,p,f,e,i,u,o,m){var d,y,x,k,D,F,T,S,O,B=m.bits,w=0,L=0,a=0,N=0,Y=0,j=0,J=0,W=0,ie=0,M=0,I=null,le=0,q=new l.Buf16(16),V=new l.Buf16(16),de=null,we=0;for(w=0;w<=15;w++)q[w]=0;for(L=0;L<e;L++)q[p[f+L]]++;for(Y=B,N=15;1<=N&&q[N]===0;N--);if(N<Y&&(Y=N),N===0)return i[u++]=20971520,i[u++]=20971520,m.bits=1,0;for(a=1;a<N&&q[a]===0;a++);for(Y<a&&(Y=a),w=W=1;w<=15;w++)if(W<<=1,(W-=q[w])<0)return-1;if(0<W&&(c===0||N!==1))return-1;for(V[1]=0,w=1;w<15;w++)V[w+1]=V[w]+q[w];for(L=0;L<e;L++)p[f+L]!==0&&(o[V[p[f+L]]++]=L);if(F=c===0?(I=de=o,19):c===1?(I=s,le-=257,de=r,we-=257,256):(I=n,de=h,-1),w=a,D=u,J=L=M=0,x=-1,k=(ie=1<<(j=Y))-1,c===1&&852<ie||c===2&&592<ie)return 1;for(;;){for(T=w-J,O=o[L]<F?(S=0,o[L]):o[L]>F?(S=de[we+o[L]],I[le+o[L]]):(S=96,0),d=1<<w-J,a=y=1<<j;i[D+(M>>J)+(y-=d)]=T<<24|S<<16|O|0,y!==0;);for(d=1<<w-1;M&d;)d>>=1;if(d!==0?(M&=d-1,M+=d):M=0,L++,--q[w]==0){if(w===N)break;w=p[f+o[L]]}if(Y<w&&(M&k)!==x){for(J===0&&(J=Y),D+=a,W=1<<(j=w-J);j+J<N&&!((W-=q[j+J])<=0);)j++,W<<=1;if(ie+=1<<j,c===1&&852<ie||c===2&&592<ie)return 1;i[x=M&k]=Y<<24|j<<16|D-u|0}}return M!==0&&(i[D+M]=w-J<<24|4194304|0),m.bits=Y,0}},{"../utils/common":41}],51:[function(g,E,v){E.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(g,E,v){var l=g("../utils/common"),s=0,r=1;function n(b){for(var C=b.length;0<=--C;)b[C]=0}var h=0,c=29,p=256,f=p+1+c,e=30,i=19,u=2*f+1,o=15,m=16,d=7,y=256,x=16,k=17,D=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(f+2));n(B);var w=new Array(2*e);n(w);var L=new Array(512);n(L);var a=new Array(256);n(a);var N=new Array(c);n(N);var Y,j,J,W=new Array(e);function ie(b,C,H,Z,R){this.static_tree=b,this.extra_bits=C,this.extra_base=H,this.elems=Z,this.max_length=R,this.has_stree=b&&b.length}function M(b,C){this.dyn_tree=b,this.max_code=0,this.stat_desc=C}function I(b){return b<256?L[b]:L[256+(b>>>7)]}function le(b,C){b.pending_buf[b.pending++]=255&C,b.pending_buf[b.pending++]=C>>>8&255}function q(b,C,H){b.bi_valid>m-H?(b.bi_buf|=C<<b.bi_valid&65535,le(b,b.bi_buf),b.bi_buf=C>>m-b.bi_valid,b.bi_valid+=H-m):(b.bi_buf|=C<<b.bi_valid&65535,b.bi_valid+=H)}function V(b,C,H){q(b,H[2*C],H[2*C+1])}function de(b,C){for(var H=0;H|=1&b,b>>>=1,H<<=1,0<--C;);return H>>>1}function we(b,C,H){var Z,R,Q=new Array(o+1),ae=0;for(Z=1;Z<=o;Z++)Q[Z]=ae=ae+H[Z-1]<<1;for(R=0;R<=C;R++){var ee=b[2*R+1];ee!==0&&(b[2*R]=de(Q[ee]++,ee))}}function ve(b){var C;for(C=0;C<f;C++)b.dyn_ltree[2*C]=0;for(C=0;C<e;C++)b.dyn_dtree[2*C]=0;for(C=0;C<i;C++)b.bl_tree[2*C]=0;b.dyn_ltree[2*y]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function me(b){8<b.bi_valid?le(b,b.bi_buf):0<b.bi_valid&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Se(b,C,H,Z){var R=2*C,Q=2*H;return b[R]<b[Q]||b[R]===b[Q]&&Z[C]<=Z[H]}function re(b,C,H){for(var Z=b.heap[H],R=H<<1;R<=b.heap_len&&(R<b.heap_len&&Se(C,b.heap[R+1],b.heap[R],b.depth)&&R++,!Se(C,Z,b.heap[R],b.depth));)b.heap[H]=b.heap[R],H=R,R<<=1;b.heap[H]=Z}function se(b,C,H){var Z,R,Q,ae,ee=0;if(b.last_lit!==0)for(;Z=b.pending_buf[b.d_buf+2*ee]<<8|b.pending_buf[b.d_buf+2*ee+1],R=b.pending_buf[b.l_buf+ee],ee++,Z===0?V(b,R,C):(V(b,(Q=a[R])+p+1,C),(ae=F[Q])!==0&&q(b,R-=N[Q],ae),V(b,Q=I(--Z),H),(ae=T[Q])!==0&&q(b,Z-=W[Q],ae)),ee<b.last_lit;);V(b,y,C)}function be(b,C){var H,Z,R,Q=C.dyn_tree,ae=C.stat_desc.static_tree,ee=C.stat_desc.has_stree,pe=C.stat_desc.elems,xe=-1;for(b.heap_len=0,b.heap_max=u,H=0;H<pe;H++)Q[2*H]!==0?(b.heap[++b.heap_len]=xe=H,b.depth[H]=0):Q[2*H+1]=0;for(;b.heap_len<2;)Q[2*(R=b.heap[++b.heap_len]=xe<2?++xe:0)]=1,b.depth[R]=0,b.opt_len--,ee&&(b.static_len-=ae[2*R+1]);for(C.max_code=xe,H=b.heap_len>>1;1<=H;H--)re(b,Q,H);for(R=pe;H=b.heap[1],b.heap[1]=b.heap[b.heap_len--],re(b,Q,1),Z=b.heap[1],b.heap[--b.heap_max]=H,b.heap[--b.heap_max]=Z,Q[2*R]=Q[2*H]+Q[2*Z],b.depth[R]=(b.depth[H]>=b.depth[Z]?b.depth[H]:b.depth[Z])+1,Q[2*H+1]=Q[2*Z+1]=R,b.heap[1]=R++,re(b,Q,1),2<=b.heap_len;);b.heap[--b.heap_max]=b.heap[1],(function(ye,Pe){var A,G,$,X,oe,ne,ce=Pe.dyn_tree,ge=Pe.max_code,ke=Pe.stat_desc.static_tree,he=Pe.stat_desc.has_stree,ue=Pe.stat_desc.extra_bits,fe=Pe.stat_desc.extra_base,_e=Pe.stat_desc.max_length,Ee=0;for(X=0;X<=o;X++)ye.bl_count[X]=0;for(ce[2*ye.heap[ye.heap_max]+1]=0,A=ye.heap_max+1;A<u;A++)_e<(X=ce[2*ce[2*(G=ye.heap[A])+1]+1]+1)&&(X=_e,Ee++),ce[2*G+1]=X,ge<G||(ye.bl_count[X]++,oe=0,fe<=G&&(oe=ue[G-fe]),ne=ce[2*G],ye.opt_len+=ne*(X+oe),he&&(ye.static_len+=ne*(ke[2*G+1]+oe)));if(Ee!==0){do{for(X=_e-1;ye.bl_count[X]===0;)X--;ye.bl_count[X]--,ye.bl_count[X+1]+=2,ye.bl_count[_e]--,Ee-=2}while(0<Ee);for(X=_e;X!==0;X--)for(G=ye.bl_count[X];G!==0;)ge<($=ye.heap[--A])||(ce[2*$+1]!==X&&(ye.opt_len+=(X-ce[2*$+1])*ce[2*$],ce[2*$+1]=X),G--)}})(b,C),we(Q,xe,b.bl_count)}function t(b,C,H){var Z,R,Q=-1,ae=C[1],ee=0,pe=7,xe=4;for(ae===0&&(pe=138,xe=3),C[2*(H+1)+1]=65535,Z=0;Z<=H;Z++)R=ae,ae=C[2*(Z+1)+1],++ee<pe&&R===ae||(ee<xe?b.bl_tree[2*R]+=ee:R!==0?(R!==Q&&b.bl_tree[2*R]++,b.bl_tree[2*x]++):ee<=10?b.bl_tree[2*k]++:b.bl_tree[2*D]++,Q=R,xe=(ee=0)===ae?(pe=138,3):R===ae?(pe=6,3):(pe=7,4))}function U(b,C,H){var Z,R,Q=-1,ae=C[1],ee=0,pe=7,xe=4;for(ae===0&&(pe=138,xe=3),Z=0;Z<=H;Z++)if(R=ae,ae=C[2*(Z+1)+1],!(++ee<pe&&R===ae)){if(ee<xe)for(;V(b,R,b.bl_tree),--ee!=0;);else R!==0?(R!==Q&&(V(b,R,b.bl_tree),ee--),V(b,x,b.bl_tree),q(b,ee-3,2)):ee<=10?(V(b,k,b.bl_tree),q(b,ee-3,3)):(V(b,D,b.bl_tree),q(b,ee-11,7));Q=R,xe=(ee=0)===ae?(pe=138,3):R===ae?(pe=6,3):(pe=7,4)}}n(W);var z=!1;function _(b,C,H,Z){q(b,(h<<1)+(Z?1:0),3),(function(R,Q,ae,ee){me(R),le(R,ae),le(R,~ae),l.arraySet(R.pending_buf,R.window,Q,ae,R.pending),R.pending+=ae})(b,C,H)}v._tr_init=function(b){z||((function(){var C,H,Z,R,Q,ae=new Array(o+1);for(R=Z=0;R<c-1;R++)for(N[R]=Z,C=0;C<1<<F[R];C++)a[Z++]=R;for(a[Z-1]=R,R=Q=0;R<16;R++)for(W[R]=Q,C=0;C<1<<T[R];C++)L[Q++]=R;for(Q>>=7;R<e;R++)for(W[R]=Q<<7,C=0;C<1<<T[R]-7;C++)L[256+Q++]=R;for(H=0;H<=o;H++)ae[H]=0;for(C=0;C<=143;)B[2*C+1]=8,C++,ae[8]++;for(;C<=255;)B[2*C+1]=9,C++,ae[9]++;for(;C<=279;)B[2*C+1]=7,C++,ae[7]++;for(;C<=287;)B[2*C+1]=8,C++,ae[8]++;for(we(B,f+1,ae),C=0;C<e;C++)w[2*C+1]=5,w[2*C]=de(C,5);Y=new ie(B,F,p+1,f,o),j=new ie(w,T,0,e,o),J=new ie(new Array(0),S,0,i,d)})(),z=!0),b.l_desc=new M(b.dyn_ltree,Y),b.d_desc=new M(b.dyn_dtree,j),b.bl_desc=new M(b.bl_tree,J),b.bi_buf=0,b.bi_valid=0,ve(b)},v._tr_stored_block=_,v._tr_flush_block=function(b,C,H,Z){var R,Q,ae=0;0<b.level?(b.strm.data_type===2&&(b.strm.data_type=(function(ee){var pe,xe=4093624447;for(pe=0;pe<=31;pe++,xe>>>=1)if(1&xe&&ee.dyn_ltree[2*pe]!==0)return s;if(ee.dyn_ltree[18]!==0||ee.dyn_ltree[20]!==0||ee.dyn_ltree[26]!==0)return r;for(pe=32;pe<p;pe++)if(ee.dyn_ltree[2*pe]!==0)return r;return s})(b)),be(b,b.l_desc),be(b,b.d_desc),ae=(function(ee){var pe;for(t(ee,ee.dyn_ltree,ee.l_desc.max_code),t(ee,ee.dyn_dtree,ee.d_desc.max_code),be(ee,ee.bl_desc),pe=i-1;3<=pe&&ee.bl_tree[2*O[pe]+1]===0;pe--);return ee.opt_len+=3*(pe+1)+5+5+4,pe})(b),R=b.opt_len+3+7>>>3,(Q=b.static_len+3+7>>>3)<=R&&(R=Q)):R=Q=H+5,H+4<=R&&C!==-1?_(b,C,H,Z):b.strategy===4||Q===R?(q(b,2+(Z?1:0),3),se(b,B,w)):(q(b,4+(Z?1:0),3),(function(ee,pe,xe,ye){var Pe;for(q(ee,pe-257,5),q(ee,xe-1,5),q(ee,ye-4,4),Pe=0;Pe<ye;Pe++)q(ee,ee.bl_tree[2*O[Pe]+1],3);U(ee,ee.dyn_ltree,pe-1),U(ee,ee.dyn_dtree,xe-1)})(b,b.l_desc.max_code+1,b.d_desc.max_code+1,ae+1),se(b,b.dyn_ltree,b.dyn_dtree)),ve(b),Z&&me(b)},v._tr_tally=function(b,C,H){return b.pending_buf[b.d_buf+2*b.last_lit]=C>>>8&255,b.pending_buf[b.d_buf+2*b.last_lit+1]=255&C,b.pending_buf[b.l_buf+b.last_lit]=255&H,b.last_lit++,C===0?b.dyn_ltree[2*H]++:(b.matches++,C--,b.dyn_ltree[2*(a[H]+p+1)]++,b.dyn_dtree[2*I(C)]++),b.last_lit===b.lit_bufsize-1},v._tr_align=function(b){q(b,2,3),V(b,y,B),(function(C){C.bi_valid===16?(le(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)})(b)}},{"../utils/common":41}],53:[function(g,E,v){E.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(g,E,v){E.exports=typeof setImmediate=="function"?setImmediate:function(){var l=[].slice.apply(arguments);l.splice(1,0,0),setTimeout.apply(null,l)}},{}]},{},[10])(10)})}),560:(()=>{HTMLCanvasElement.prototype.toBlob||(HTMLCanvasElement.prototype.toBlob=function(te,P,K){var g=this.toDataURL(P,K).split(",")[1];setTimeout(function(){for(var E=atob(g),v=E.length,l=new Uint8Array(v),s=0;s<v;s++)l[s]=E.charCodeAt(s);te(new Blob([l],{type:P||"image/png"}))})})}),650:((te,P,K)=>{K.r(P),K.d(P,{default:()=>f});function g(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function E(e,i){for(var u=0;u<i.length;u++){var o=i[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,i,u){return i&&E(e.prototype,i),e}function l(e){return s(e)||r(e)||n(e)||c()}function s(e){if(Array.isArray(e))return h(e)}function r(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function n(e,i){if(e){if(typeof e=="string")return h(e,i);var u=Object.prototype.toString.call(e).slice(8,-1);if(u==="Object"&&e.constructor&&(u=e.constructor.name),u==="Map"||u==="Set")return Array.from(u);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return h(e,i)}}function h(e,i){(i==null||i>e.length)&&(i=e.length);for(var u=0,o=new Array(i);u<i;u++)o[u]=e[u];return o}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=(function(){var e=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],i=(function(){function F(T){var S=T.targetModal,O=T.triggers,B=O===void 0?[]:O,w=T.onShow,L=w===void 0?function(){}:w,a=T.onClose,N=a===void 0?function(){}:a,Y=T.openTrigger,j=Y===void 0?"data-micromodal-trigger":Y,J=T.closeTrigger,W=J===void 0?"data-micromodal-close":J,ie=T.openClass,M=ie===void 0?"is-open":ie,I=T.disableScroll,le=I===void 0?!1:I,q=T.disableFocus,V=q===void 0?!1:q,de=T.awaitCloseAnimation,we=de===void 0?!1:de,ve=T.awaitOpenAnimation,me=ve===void 0?!1:ve,Se=T.debugMode,re=Se===void 0?!1:Se;g(this,F),this.modal=document.getElementById(S),this.config={debugMode:re,disableScroll:le,openTrigger:j,closeTrigger:W,openClass:M,onShow:L,onClose:N,awaitCloseAnimation:we,awaitOpenAnimation:me,disableFocus:V},B.length>0&&this.registerTriggers.apply(this,l(B)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return v(F,[{key:"registerTriggers",value:function(){for(var S=this,O=arguments.length,B=new Array(O),w=0;w<O;w++)B[w]=arguments[w];B.filter(Boolean).forEach(function(L){L.addEventListener("click",function(a){return S.showModal(a)})})}},{key:"showModal",value:function(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var B=function w(){S.modal.removeEventListener("animationend",w,!1),S.setFocusToFirstNode()};this.modal.addEventListener("animationend",B,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,O)}},{key:"closeModal",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,O=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,S),this.config.awaitCloseAnimation){var B=this.config.openClass;this.modal.addEventListener("animationend",function w(){O.classList.remove(B),O.removeEventListener("animationend",w,!1)},!1)}else O.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(S){this.modal=document.getElementById(S),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(S){if(this.config.disableScroll){var O=document.querySelector("body");switch(S){case"enable":Object.assign(O.style,{overflow:""});break;case"disable":Object.assign(O.style,{overflow:"hidden"});break}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(S){S.target.hasAttribute(this.config.closeTrigger)&&this.closeModal(S)}},{key:"onKeydown",value:function(S){S.keyCode===27&&this.closeModal(S),S.keyCode===9&&this.retainFocus(S)}},{key:"getFocusableNodes",value:function(){var S=this.modal.querySelectorAll(e);return Array.apply(void 0,l(S))}},{key:"setFocusToFirstNode",value:function(){var S=this;if(!this.config.disableFocus){var O=this.getFocusableNodes();if(O.length!==0){var B=O.filter(function(w){return!w.hasAttribute(S.config.closeTrigger)});B.length>0&&B[0].focus(),B.length===0&&O[0].focus()}}}},{key:"retainFocus",value:function(S){var O=this.getFocusableNodes();if(O.length!==0)if(O=O.filter(function(w){return w.offsetParent!==null}),!this.modal.contains(document.activeElement))O[0].focus();else{var B=O.indexOf(document.activeElement);S.shiftKey&&B===0&&(O[O.length-1].focus(),S.preventDefault()),!S.shiftKey&&O.length>0&&B===O.length-1&&(O[0].focus(),S.preventDefault())}}}]),F})(),u=null,o=function(T,S){var O=[];return T.forEach(function(B){var w=B.attributes[S].value;O[w]===void 0&&(O[w]=[]),O[w].push(B)}),O},m=function(T){if(!document.getElementById(T))return console.warn("MicroModal: Seems like you have missed %c'".concat(T,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(T,'"></div>')),!1},d=function(T){if(T.length<=0)return console.warn("MicroModal: Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'),!1},y=function(T,S){if(d(T),!S)return!0;for(var O in S)m(O);return!0},x=function(T){var S=Object.assign({},{openTrigger:"data-micromodal-trigger"},T),O=l(document.querySelectorAll("[".concat(S.openTrigger,"]"))),B=o(O,S.openTrigger);if(!(S.debugMode===!0&&y(O,B)===!1))for(var w in B){var L=B[w];S.targetModal=w,S.triggers=l(L),u=new i(S)}},k=function(T,S){var O=S||{};O.targetModal=T,!(O.debugMode===!0&&m(T)===!1)&&(u&&u.removeEventListeners(),u=new i(O),u.showModal())},D=function(T){T?u.closeModalById(T):u.closeModal()};return{init:x,show:k,close:D}})();window.MicroModal=p;const f=p}),57:((te,P,K)=>{K.r(P),K.d(P,{default:()=>g});const g=`(function(b){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c},a.define('/gif.worker.coffee',function(d,e,f,g){var b,c;b=a('/GIFEncoder.js',d),c=function(a){var c,e,d,f;return c=new b(a.width,a.height),a.index===0?c.writeHeader():c.firstFrame=!1,c.setTransparent(a.transparent),c.setRepeat(a.repeat),c.setDelay(a.delay),c.setQuality(a.quality),c.addFrame(a.data),a.last&&c.finish(),d=c.stream(),a.data=d.pages,a.cursor=d.cursor,a.pageSize=d.constructor.pageSize,a.canTransfer?(f=function(c){for(var b=0,d=a.data.length;b<d;++b)e=a.data[b],c.push(e.buffer);return c}.call(this,[]),self.postMessage(a,f)):self.postMessage(a)},self.onmessage=function(a){return c(a.data)}}),a.define('/GIFEncoder.js',function(e,h,i,j){function c(){this.page=-1,this.pages=[],this.newPage()}function b(a,b){this.width=~~a,this.height=~~b,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.out=new c}var f=a('/TypedNeuQuant.js',e),g=a('/LZWEncoder.js',e);c.pageSize=4096,c.charMap={};for(var d=0;d<256;d++)c.charMap[d]=String.fromCharCode(d);c.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(c.pageSize),this.cursor=0},c.prototype.getData=function(){var d='';for(var a=0;a<this.pages.length;a++)for(var b=0;b<c.pageSize;b++)d+=c.charMap[this.pages[a][b]];return d},c.prototype.writeByte=function(a){this.cursor>=c.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=a},c.prototype.writeUTFBytes=function(b){for(var c=b.length,a=0;a<c;a++)this.writeByte(b.charCodeAt(a))},c.prototype.writeBytes=function(b,d,e){for(var c=e||b.length,a=d||0;a<c;a++)this.writeByte(b[a])},b.prototype.setDelay=function(a){this.delay=Math.round(a/10)},b.prototype.setFrameRate=function(a){this.delay=Math.round(100/a)},b.prototype.setDispose=function(a){a>=0&&(this.dispose=a)},b.prototype.setRepeat=function(a){this.repeat=a},b.prototype.setTransparent=function(a){this.transparent=a},b.prototype.addFrame=function(a){this.image=a,this.getImagePixels(),this.analyzePixels(),this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.writePixels(),this.firstFrame=!1},b.prototype.finish=function(){this.out.writeByte(59)},b.prototype.setQuality=function(a){a<1&&(a=1),this.sample=a},b.prototype.writeHeader=function(){this.out.writeUTFBytes('GIF89a')},b.prototype.analyzePixels=function(){var g=this.pixels.length,d=g/3;this.indexedPixels=new Uint8Array(d);var a=new f(this.pixels,this.sample);a.buildColormap(),this.colorTab=a.getColormap();var b=0;for(var c=0;c<d;c++){var e=a.lookupRGB(this.pixels[b++]&255,this.pixels[b++]&255,this.pixels[b++]&255);this.usedEntry[e]=!0,this.indexedPixels[c]=e}this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent))},b.prototype.findClosest=function(e){if(this.colorTab===null)return-1;var k=(e&16711680)>>16,l=(e&65280)>>8,m=e&255,c=0,d=16777216,j=this.colorTab.length;for(var a=0;a<j;){var f=k-(this.colorTab[a++]&255),g=l-(this.colorTab[a++]&255),h=m-(this.colorTab[a]&255),i=f*f+g*g+h*h,b=parseInt(a/3);this.usedEntry[b]&&i<d&&(d=i,c=b),a++}return c},b.prototype.getImagePixels=function(){var a=this.width,g=this.height;this.pixels=new Uint8Array(a*g*3);var b=this.image,c=0;for(var d=0;d<g;d++)for(var e=0;e<a;e++){var f=d*a*4+e*4;this.pixels[c++]=b[f],this.pixels[c++]=b[f+1],this.pixels[c++]=b[f+2]}},b.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var b,a;this.transparent===null?(b=0,a=0):(b=1,a=2),this.dispose>=0&&(a=dispose&7),a<<=2,this.out.writeByte(0|a|0|b),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},b.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},b.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},b.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes('NETSCAPE2.0'),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},b.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var b=768-this.colorTab.length;for(var a=0;a<b;a++)this.out.writeByte(0)},b.prototype.writeShort=function(a){this.out.writeByte(a&255),this.out.writeByte(a>>8&255)},b.prototype.writePixels=function(){var a=new g(this.width,this.height,this.indexedPixels,this.colorDepth);a.encode(this.out)},b.prototype.stream=function(){return this.out},e.exports=b}),a.define('/LZWEncoder.js',function(e,g,h,i){function f(y,D,C,B){function w(a,b){r[f++]=a,f>=254&&t(b)}function x(b){u(a),k=i+2,j=!0,l(i,b)}function u(b){for(var a=0;a<b;++a)h[a]=-1}function A(z,r){var g,t,d,e,y,w,s;for(q=z,j=!1,n_bits=q,m=p(n_bits),i=1<<z-1,o=i+1,k=i+2,f=0,e=v(),s=0,g=a;g<65536;g*=2)++s;s=8-s,w=a,u(w),l(i,r);a:while((t=v())!=c){if(g=(t<<b)+e,d=t<<s^e,h[d]===g){e=n[d];continue}if(h[d]>=0){y=w-d,d===0&&(y=1);do if((d-=y)<0&&(d+=w),h[d]===g){e=n[d];continue a}while(h[d]>=0)}l(e,r),e=t,k<1<<b?(n[d]=k++,h[d]=g):x(r)}l(e,r),l(o,r)}function z(a){a.writeByte(s),remaining=y*D,curPixel=0,A(s+1,a),a.writeByte(0)}function t(a){f>0&&(a.writeByte(f),a.writeBytes(r,0,f),f=0)}function p(a){return(1<<a)-1}function v(){if(remaining===0)return c;--remaining;var a=C[curPixel++];return a&255}function l(a,c){g&=d[e],e>0?g|=a<<e:g=a,e+=n_bits;while(e>=8)w(g&255,c),g>>=8,e-=8;if((k>m||j)&&(j?(m=p(n_bits=q),j=!1):(++n_bits,n_bits==b?m=1<<b:m=p(n_bits))),a==o){while(e>0)w(g&255,c),g>>=8,e-=8;t(c)}}var s=Math.max(2,B),r=new Uint8Array(256),h=new Int32Array(a),n=new Int32Array(a),g,e=0,f,k=0,m,j=!1,q,i,o;this.encode=z}var c=-1,b=12,a=5003,d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];e.exports=f}),a.define('/TypedNeuQuant.js',function(A,F,E,D){function C(A,B){function I(){o=[],q=new Int32Array(256),t=new Int32Array(a),y=new Int32Array(a),z=new Int32Array(a>>3);var c,d;for(c=0;c<a;c++)d=(c<<b+8)/a,o[c]=new Float64Array([d,d,d,0]),y[c]=e/a,t[c]=0}function J(){for(var c=0;c<a;c++)o[c][0]>>=b,o[c][1]>>=b,o[c][2]>>=b,o[c][3]=c}function K(b,a,c,e,f){o[a][0]-=b*(o[a][0]-c)/d,o[a][1]-=b*(o[a][1]-e)/d,o[a][2]-=b*(o[a][2]-f)/d}function L(j,e,n,l,k){var h=Math.abs(e-j),i=Math.min(e+j,a),g=e+1,f=e-1,m=1,b,d;while(g<i||f>h)d=z[m++],g<i&&(b=o[g++],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c),f>h&&(b=o[f--],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c)}function C(p,s,q){var h=2147483647,k=h,d=-1,m=d,c,j,e,n,l;for(c=0;c<a;c++)j=o[c],e=Math.abs(j[0]-p)+Math.abs(j[1]-s)+Math.abs(j[2]-q),e<h&&(h=e,d=c),n=e-(t[c]>>i-b),n<k&&(k=n,m=c),l=y[c]>>g,y[c]-=l,t[c]+=l<<f;return y[d]+=x,t[d]-=r,m}function D(){var d,b,e,c,h,g,f=0,i=0;for(d=0;d<a;d++){for(e=o[d],h=d,g=e[1],b=d+1;b<a;b++)c=o[b],c[1]<g&&(h=b,g=c[1]);if(c=o[h],d!=h&&(b=c[0],c[0]=e[0],e[0]=b,b=c[1],c[1]=e[1],e[1]=b,b=c[2],c[2]=e[2],e[2]=b,b=c[3],c[3]=e[3],e[3]=b),g!=f){for(q[f]=i+d>>1,b=f+1;b<g;b++)q[b]=d;f=g,i=d}}for(q[f]=i+n>>1,b=f+1;b<256;b++)q[b]=n}function E(j,i,k){var b,d,c,e=1e3,h=-1,f=q[i],g=f-1;while(f<a||g>=0)f<a&&(d=o[f],c=d[1]-i,c>=e?f=a:(f++,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3])))),g>=0&&(d=o[g],c=i-d[1],c>=e?g=-1:(g--,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3]))));return h}function F(){var c,f=A.length,D=30+(B-1)/3,y=f/(3*B),q=~~(y/w),n=d,o=u,a=o>>h;for(a<=1&&(a=0),c=0;c<a;c++)z[c]=n*((a*a-c*c)*m/(a*a));var i;f<s?(B=1,i=3):f%l!==0?i=3*l:f%k!==0?i=3*k:f%p!==0?i=3*p:i=3*j;var r,t,x,e,g=0;c=0;while(c<y)if(r=(A[g]&255)<<b,t=(A[g+1]&255)<<b,x=(A[g+2]&255)<<b,e=C(r,t,x),K(n,e,r,t,x),a!==0&&L(a,e,r,t,x),g+=i,g>=f&&(g-=f),c++,q===0&&(q=1),c%q===0)for(n-=n/D,o-=o/v,a=o>>h,a<=1&&(a=0),e=0;e<a;e++)z[e]=n*((a*a-e*e)*m/(a*a))}function G(){I(),F(),J(),D()}function H(){var b=[],g=[];for(var c=0;c<a;c++)g[o[c][3]]=c;var d=0;for(var e=0;e<a;e++){var f=g[e];b[d++]=o[f][0],b[d++]=o[f][1],b[d++]=o[f][2]}return b}var o,q,t,y,z;this.buildColormap=G,this.getColormap=H,this.lookupRGB=E}var w=100,a=256,n=a-1,b=4,i=16,e=1<<i,f=10,B=1<<f,g=10,x=e>>g,r=e<<f-g,z=a>>3,h=6,t=1<<h,u=z*t,v=30,o=10,d=1<<o,q=8,m=1<<q,y=o+q,c=1<<y,l=499,k=491,p=487,j=503,s=3*j;A.exports=C}),a('/gif.worker.coffee')}.call(this,this))\r
//# sourceMappingURL=gif.worker.js.map\r
// gif.worker.js 0.1.6 - https://github.com/jnordberg/gif.js`}),72:(function(te,P,K){var g,E;(function(v,l){g=l,E=typeof g=="function"?g.call(P,K,P,te):g,E!==void 0&&(te.exports=E)})(this,function(){function v(){var l=arguments.length;if(l===0)throw new Error("resolveUrl requires at least one argument; got none.");var s=document.createElement("base");if(s.href=arguments[0],l===1)return s.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(s,r.firstChild);for(var n=document.createElement("a"),h,c=1;c<l;c++)n.href=arguments[c],h=n.href,s.href=h;return r.removeChild(s),h}return v})}),914:(function(te,P,K){var g=this&&this.__assign||function(){return g=Object.assign||function(A){for(var G,$=1,X=arguments.length;$<X;$++){G=arguments[$];for(var oe in G)Object.prototype.hasOwnProperty.call(G,oe)&&(A[oe]=G[oe])}return A},g.apply(this,arguments)},E=this&&this.__awaiter||function(A,G,$,X){function oe(ne){return ne instanceof $?ne:new $(function(ce){ce(ne)})}return new($||($=Promise))(function(ne,ce){function ge(ue){try{he(X.next(ue))}catch(fe){ce(fe)}}function ke(ue){try{he(X.throw(ue))}catch(fe){ce(fe)}}function he(ue){ue.done?ne(ue.value):oe(ue.value).then(ge,ke)}he((X=X.apply(A,G||[])).next())})},v=this&&this.__generator||function(A,G){var $={label:0,sent:function(){if(ne[0]&1)throw ne[1];return ne[1]},trys:[],ops:[]},X,oe,ne,ce;return ce={next:ge(0),throw:ge(1),return:ge(2)},typeof Symbol=="function"&&(ce[Symbol.iterator]=function(){return this}),ce;function ge(he){return function(ue){return ke([he,ue])}}function ke(he){if(X)throw new TypeError("Generator is already executing.");for(;$;)try{if(X=1,oe&&(ne=he[0]&2?oe.return:he[0]?oe.throw||((ne=oe.return)&&ne.call(oe),0):oe.next)&&!(ne=ne.call(oe,he[1])).done)return ne;switch(oe=0,ne&&(he=[he[0]&2,ne.value]),he[0]){case 0:case 1:ne=he;break;case 4:return $.label++,{value:he[1],done:!1};case 5:$.label++,oe=he[1],he=[0];continue;case 7:he=$.ops.pop(),$.trys.pop();continue;default:if(ne=$.trys,!(ne=ne.length>0&&ne[ne.length-1])&&(he[0]===6||he[0]===2)){$=0;continue}if(he[0]===3&&(!ne||he[1]>ne[0]&&he[1]<ne[3])){$.label=he[1];break}if(he[0]===6&&$.label<ne[1]){$.label=ne[1],ne=he;break}if(ne&&$.label<ne[2]){$.label=ne[2],$.ops.push(he);break}ne[2]&&$.ops.pop(),$.trys.pop();continue}he=G.call(A,$)}catch(ue){he=[6,ue],oe=0}finally{X=ne=0}if(he[0]&5)throw he[1];return{value:he[0]?he[1]:void 0,done:!0}}},l=this&&this.__spreadArray||function(A,G,$){if($||arguments.length===2)for(var X=0,oe=G.length,ne;X<oe;X++)(ne||!(X in G))&&(ne||(ne=Array.prototype.slice.call(G,0,X)),ne[X]=G[X]);return A.concat(ne||Array.prototype.slice.call(G))};Object.defineProperty(P,"__esModule",{value:!0}),P.browserSupportsGIF=P.browserSupportsMP4=P.browserSupportsWEBM=P.checkHotkeys=P.isRecording=P.stopRecord=P.recordFrame=P.takeJPEGSnapshot=P.takePNGSnapshot=P.beginJPEGFramesRecord=P.beginPNGFramesRecord=P.beginGIFRecord=P.beginVideoRecord=P.bindKeyToJPEGSnapshot=P.bindKeyToPNGSnapshot=P.bindKeyToJPEGFramesRecord=P.bindKeyToPNGFramesRecord=P.bindKeyToGIFRecord=P.bindKeyToVideoRecord=P.setVerbose=P.dispose=P.init=P.MP4=P.WEBM=P.showDialog=void 0;var s=K(886),r=K(162);K(560);var n=K(809),h=K(848),c=K(330),p=K(57),f=K(733),e=URL.createObjectURL(new Blob([p.default])),i,u=void 0,o=K(330);Object.defineProperty(P,"showDialog",{enumerable:!0,get:function(){return o.showDialog}});var m="gif";P.WEBM="webm",P.MP4="mp4";var d="jpegzip",y="pngzip",x="jpeg",k="png",D=[];s.default;var F=[],T={},S={},O=null;function B(A,G){O=A,i=(G==null?void 0:G.ffmpegCorePath)||"https://unpkg.com/@ffmpeg/core@0.10.0/dist/ffmpeg-core.js",G&&G.verbose!==void 0&&N(G.verbose),G&&G.showAlerts!==void 0&&(h.PARAMS.SHOW_ALERTS=G.showAlerts),G&&G.showDialogs!==void 0&&(h.PARAMS.SHOW_DIALOGS=G.showDialogs),G&&G.showRecDot!==void 0&&(h.PARAMS.SHOW_REC_DOT=G.showRecDot),h.PARAMS.SHOW_REC_DOT&&(0,c.initDotWithCSS)(G==null?void 0:G.recDotCSS),O.addEventListener("resize",L),window.addEventListener("keydown",w)}P.init=B;function w(A){F.push({key:A.key}),h.PARAMS.IS_MANUALLY_CHECKING_HOTKEYS||q()}function L(){if(D.length){var A="Don't resize while recording canvas!";(0,c.showWarning)(A)}}function a(){O==null||O.removeEventListener("resize",L),O=null,window.removeEventListener("keydown",w)}P.dispose=a;function N(A){h.PARAMS.VERBOSE=!!A,u&&u.setLogging(h.PARAMS.VERBOSE)}P.setVerbose=N;function Y(){if(O===null)throw new Error("No canvas supplied, please call CanvasCapture.init() and pass in canvas element.")}function j(A,G){Object.keys(S).forEach(function($){S[$]===A&&delete S[$]}),S[G]=A}function J(A,G){(G==null?void 0:G.format)===P.WEBM?(T.webm=G,j(A,P.WEBM)):(T.mp4=G,j(A,P.MP4))}P.bindKeyToVideoRecord=J;function W(A,G){T.gif=G,j(A,m)}P.bindKeyToGIFRecord=W;function ie(A,G){T.pngzip=G,j(A,y)}P.bindKeyToPNGFramesRecord=ie;function M(A,G){T.jpegzip=G,j(A,d)}P.bindKeyToJPEGFramesRecord=M;function I(A,G){T.png=G,j(A,k)}P.bindKeyToPNGSnapshot=I;function le(A,G){T.jpeg=G,j(A,x)}P.bindKeyToJPEGSnapshot=le;function q(){for(var A,G,$=0;$<F.length;$++){var X=F[$].key;if(S.mp4&&X===S[P.MP4]){var oe=b(P.MP4);if(oe.length)_(oe);else{if(!ye()){var ne="This browser does not support MP4 video recording, please try again in Chrome.",ce=(A=T[P.MP4])===null||A===void 0?void 0:A.onError;ce&&ce(new Error(ne)),(0,c.showWarning)(ne)}de(T[P.MP4])}}if(S.webm&&X===S[P.WEBM]){var ge=b(P.WEBM);if(ge.length)_(ge);else{if(!xe()){var ne="This browser does not support WEBM video recording, please try again in Chrome.",ce=(G=T[P.WEBM])===null||G===void 0?void 0:G.onError;ce&&ce(new Error(ne)),(0,c.showWarning)(ne)}de(T[P.WEBM])}}if(S.gif&&X===S[m]){var ke=b(m);ke.length?_(ke):we(T[m])}if(S.pngzip&&X===S[y]){var he=b(y);he.length?_(he):ve(T[y])}if(S.jpegzip&&X===S[d]){var ue=b(d);ue.length?_(ue):me(T[d])}S.png&&X===S[k]&&se(T[k]),S.jpeg&&X===S[x]&&be(T[x])}F.length=0}function V(A){D.push(A),A.type!==y&&A.type!==d&&A.capturer.start(),(0,c.showDot)(H())}function de(A){try{var G=(A==null?void 0:A.format)||P.MP4;if(G===P.MP4){if(!ye()){var $="This browser does not support MP4 video recording, please try again in Chrome.";throw(0,c.showWarning)($),new Error($)}}else if(G===P.WEBM){if(!xe()){var $="This browser does not support WEBM video recording, please try again in Chrome.";throw(0,c.showWarning)($),new Error($)}}else throw new Error("invalid video format ".concat(G,"."));if(C().length){var $="CCapture.js only supports one video/gif capture at a time.";throw(0,c.showWarning)($),new Error($)}var X=1;A&&A.quality&&(X=A.quality);var oe=(A==null?void 0:A.name)||"Video_Capture",ne=new window.CCapture({format:P.WEBM,name:oe,framerate:(A==null?void 0:A.fps)||60,quality:X*100,verbose:h.PARAMS.VERBOSE}),ce={name:oe,capturer:ne,numFrames:0,type:G,ffmpegOptions:A==null?void 0:A.ffmpegOptions,onExportProgress:A==null?void 0:A.onExportProgress,onExport:A==null?void 0:A.onExport,onExportFinish:A==null?void 0:A.onExportFinish,onError:A==null?void 0:A.onError};return V(ce),ce}catch(ge){if(A!=null&&A.onError)A.onError(ge);else throw ge}}P.beginVideoRecord=de;function we(A){try{if(C().length){var G="CCapture.js only supports one video/gif capture at a time.";throw(0,c.showWarning)(G),new Error(G)}var $=100;A&&A.quality&&($=A.quality*100);var X=(A==null?void 0:A.name)||"GIF_Capture",oe=new window.CCapture({format:m,name:X,framerate:(A==null?void 0:A.fps)||60,workersPath:e,quality:$,verbose:h.PARAMS.VERBOSE,onProgress:A==null?void 0:A.onExportProgress}),ne={name:X,capturer:oe,numFrames:0,type:m,onExport:A==null?void 0:A.onExport,onExportFinish:A==null?void 0:A.onExportFinish,onError:A==null?void 0:A.onError};return V(ne),ne}catch(ce){if(A!=null&&A.onError)A.onError(ce);else throw ce}}P.beginGIFRecord=we;function ve(A){try{var G=(A==null?void 0:A.name)||"PNG_Frames_Capture",$={dpi:A==null?void 0:A.dpi},X={name:G,zipOptions:$,zipPromises:[],capturer:new f,numFrames:0,type:y,onExportProgress:A==null?void 0:A.onExportProgress,onExport:A==null?void 0:A.onExport,onExportFinish:A==null?void 0:A.onExportFinish,onError:A==null?void 0:A.onError};return V(X),X}catch(oe){if(A!=null&&A.onError)A.onError(oe);else throw oe}}P.beginPNGFramesRecord=ve;function me(A){try{var G=(A==null?void 0:A.name)||"JPEG_Frames_Capture",$={dpi:A==null?void 0:A.dpi,quality:A==null?void 0:A.quality},X={name:G,zipOptions:$,zipPromises:[],capturer:new f,numFrames:0,type:d,onExportProgress:A==null?void 0:A.onExportProgress,onExport:A==null?void 0:A.onExport,onExportFinish:A==null?void 0:A.onExportFinish,onError:A==null?void 0:A.onError};return V(X),X}catch(oe){if(A!=null&&A.onError)A.onError(oe);else throw oe}}P.beginJPEGFramesRecord=me;function Se(A,G,$){return E(this,void 0,void 0,function(){return v(this,function(X){return[2,new Promise(function(oe){A.toBlob(function(ne){oe(ne)},"image/".concat(G),$)})]})})}function re(A,G,$,X){return E(this,void 0,void 0,function(){var oe,ne,ce,ge;return v(this,function(ke){switch(ke.label){case 0:return Y(),oe=X==null?void 0:X.onExportFinish,[4,Se(O,G,$)];case 1:if(ne=ke.sent(),!ne)throw ce="Problem saving ".concat(G.toUpperCase(),", please try again!"),(0,c.showWarning)(ce),new Error(ce);return ge=(X==null?void 0:X.onExport)||r.saveAs,X!=null&&X.dpi?[4,(0,n.changeDpiBlob)(ne,X==null?void 0:X.dpi).then(function(he){ge(he,A),oe&&oe()})]:[3,3];case 2:return ke.sent(),[3,4];case 3:ge(ne,A),oe&&oe(),ke.label=4;case 4:return[2]}})})}function se(A){return E(this,void 0,void 0,function(){var G,$,X;return v(this,function(oe){switch(oe.label){case 0:return oe.trys.push([0,2,,3]),G=(A==null?void 0:A.name)||"PNG_Capture",$="".concat(G,".png"),[4,re($,k,void 0,A)];case 1:return oe.sent(),[3,3];case 2:if(X=oe.sent(),A!=null&&A.onError)A.onError(X);else throw X;return[3,3];case 3:return[2]}})})}P.takePNGSnapshot=se;function be(A){return E(this,void 0,void 0,function(){var G,$,X;return v(this,function(oe){switch(oe.label){case 0:return oe.trys.push([0,2,,3]),G=(A==null?void 0:A.name)||"JPEG_Capture",$="".concat(G,".jpg"),[4,re($,x,(A==null?void 0:A.quality)||1,A)];case 1:return oe.sent(),[3,3];case 2:if(X=oe.sent(),A!=null&&A.onError)A.onError(X);else throw X;return[3,3];case 3:return[2]}})})}P.takeJPEGSnapshot=be;function t(A){var G=D;A&&(Array.isArray(A)?G=A:G=[A]);try{if(Y(),G.length===0){var $="No valid capturer inited, please call CanvasCapture.beginVideoRecord(), CanvasCapture.beginGIFRecord(), CanvasCapture.beginPNGFramesRecord(), or CanvasCapture.beginJPEGFramesRecord() first.";throw(0,c.showWarning)($),new Error($)}for(var X=function(ge){var ke=G[ge],he=ke.capturer,ue=ke.type,fe=ke.zipOptions,_e=ke.zipPromises,Ee=ke.numFrames;if(ue===d||ue===y){var Oe="frame_".concat(Ee+1),Re=new Promise(function(Ue,De){var Me={dpi:fe==null?void 0:fe.dpi,quality:fe.quality,name:Oe,onExport:function(it,at){he.file(at,it)},onExportFinish:Ue,onError:De};ue===d?be(Me):se(Me)});_e.push(Re)}else he.capture(O);G[ge].numFrames=Ee+1},oe=0;oe<G.length;oe++)X(oe)}catch(ge){for(var ne=!0,oe=0;oe<G.length;oe++){var ce=G[oe];ce.onError?ce.onError(ge):ne=!1}if(!G.length||!ne)throw ge}}P.recordFrame=t;function U(A){return E(this,void 0,void 0,function(){return v(this,function(G){return[2,new Promise(function($){A.save(function(X){$(X)})})]})})}function z(A){return E(this,void 0,void 0,function(){var G,$,X,oe,ne,ce,ge,ke,he,ue,fe,_e,Ee,Ee,Oe,Ee,Oe;return v(this,function(Re){switch(Re.label){case 0:if(G=D[A],$=G.name,X=G.capturer,oe=G.numFrames,ne=G.type,ce=G.zipPromises,ge=G.onExportProgress,ke=G.onExport,he=G.onExportFinish,G.onError,ue=G.ffmpegOptions,D.splice(A,1),ne!==y&&ne!==d&&X.stop(),oe===0)throw fe="No frames recorded, call CanvasCapture.recordFrame().",(0,c.showWarning)(fe),new Error(fe);switch(_e=ne,_e){case P.MP4:return[3,1];case P.WEBM:return[3,4];case m:return[3,6];case y:return[3,8];case d:return[3,8]}return[3,11];case 1:return[4,U(X)];case 2:return Ee=Re.sent(),(0,c.showDialog)("Processing...","MP4 is processing and may take a minute to save.  You can close this dialog in the meantime.",{autoCloseDelay:7e3}),[4,Q({name:$,blob:Ee,onExportProgress:ge,onExport:ke,onExportFinish:he,ffmpegOptions:ue})];case 3:return Re.sent(),[3,12];case 4:return ge&&ge(0),[4,U(X)];case 5:return Ee=Re.sent(),ge&&ge(1),Oe="".concat($,".webm"),ke?ke(Ee,Oe):(0,r.saveAs)(Ee,Oe),he&&he(),[3,12];case 6:return(0,c.showDialog)("Processing...","GIF is processing and may take a minute to save.  You can close this dialog in the meantime.",{autoCloseDelay:7e3}),[4,U(X)];case 7:return Ee=Re.sent(),Oe="".concat($,".gif"),ke?ke(Ee,Oe):(0,r.saveAs)(Ee,Oe),he&&he(),[3,12];case 8:return[4,Promise.all(ce)];case 9:return Re.sent(),(0,c.showDialog)("Processing...","Frames are being zipped and may take a minute to save.  You can close this dialog in the meantime.",{autoCloseDelay:7e3}),[4,X.generateAsync({type:"blob"},function(Ue){ge&&ge(Ue.percent/100)}).then(function(Ue){var De="".concat($,".zip");ke?ke(Ue,De):(0,r.saveAs)(Ue,De),he&&he()})];case 10:return Re.sent(),[3,12];case 11:throw new Error("Need to handle saving type ".concat(ne,"."));case 12:return[2]}})})}function _(A){return E(this,void 0,void 0,function(){var G,$,X,ge,oe,ne,ce,ge,ke;return v(this,function(he){switch(he.label){case 0:A&&!Array.isArray(A)&&(A=[A]),G=A||D,he.label=1;case 1:if(he.trys.push([1,3,,4]),D.length===0)throw $="No valid capturer inited, please call CanvasCapture.beginVideoRecord(), CanvasCapture.beginGIFRecord(), CanvasCapture.beginPNGFramesRecord(), or CanvasCapture.beginJPEGFramesRecord() first.",(0,c.showWarning)($),new Error($);for(X=[],ge=0;ge<G.length;ge++){if(oe=D.indexOf(G[ge]),oe<0)throw new Error("Invalid capture ".concat(G[ge],"  may have already been stopped."));X.push(z(oe))}return(0,c.showDot)(H()),[4,Promise.all(X)];case 2:return he.sent(),[3,4];case 3:for(ne=he.sent(),ce=!0,ge=0;ge<G.length;ge++)ke=G[ge],ke.onError?ke.onError(ne):ce=!1;if(!G.length||!ce)throw ne;return[3,4];case 4:return[2]}})})}P.stopRecord=_;function b(A){for(var G=[],$=0;$<D.length;$++)D[$].type===A&&G.push(D[$]);return G}function C(){return b(P.WEBM).concat(b(P.MP4)).concat(b(m))}function H(){return D.length>0}P.isRecording=H;function Z(){h.PARAMS.IS_MANUALLY_CHECKING_HOTKEYS=!0,q()}P.checkHotkeys=Z;var R=!1;function Q(A){return E(this,void 0,void 0,function(){var G,$,X,oe,ne,ce,ge,ke,he,ue,fe,_e,Ee,Oe,Re,Ue;return v(this,function(De){switch(De.label){case 0:return u||(G=K(648),u=G({corePath:i})),R?[3,2]:[4,u.load().catch(function(){var Me="MP4 export not supported in this browser, try again in the latest version of Chrome.";throw(0,c.showWarning)(Me),new Error(Me)})];case 1:De.sent(),R=!0,De.label=2;case 2:return $=A.name,X=A.blob,oe=A.onExportProgress,ne=A.onExport,ce=A.onExportFinish,ge=A.ffmpegOptions,[4,X.arrayBuffer()];case 3:return ke=De.sent(),he=new Uint8Array(ke),u.FS("writeFile","".concat($,".webm"),he),oe&&u.setProgress(function(Me){oe(Math.max(0,Math.min(Me.ratio,1)))}),ue={"-c:v":"libx264","-preset":"slow","-crf":"22","-pix_fmt":"yuv420p"},fe=g(g({},ue),ge||{}),_e=[],Object.keys(fe).forEach(function(Me){_e.push(Me,fe[Me])}),Ee="".concat($,".mp4"),[4,(Ue=u).run.apply(Ue,l(l(["-i","".concat($,".webm")],_e,!1),["-vf","crop=trunc(iw/2)*2:trunc(ih/2)*2","-an",Ee],!1))];case 4:return De.sent(),[4,u.FS("readFile",Ee)];case 5:return Oe=De.sent(),Re=new Blob([Oe],{type:"video/mp4"}),ne?ne(Re,Ee):(0,r.saveAs)(Re,Ee),u.FS("unlink","".concat($,".webm")),u.FS("unlink",Ee),ce&&ce(),[2]}})})}function ae(){var A=document.createElement("canvas"),G=A.toDataURL("image/webp",{quality:1});return!(typeof G!="string"||!G.match(/^data:image\/webp;base64,/i))}function ee(){try{var A=new SharedArrayBuffer(1024)}catch{return!1}return!0}function pe(){return!!window.Worker}function xe(){return ae()}P.browserSupportsWEBM=xe;function ye(){return ae()&&ee()}P.browserSupportsMP4=ye;function Pe(){return pe()}P.browserSupportsGIF=Pe}),713:((te,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.css=void 0,P.css=`
/**************************  Basic Modal Styles
**************************/

.modal {
  font-family: -apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif;
}

.modal__overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal__container {
  background-color: #fff;
  padding: 30px;
  max-width: 500px;
  max-height: 100vh;
  overflow-y: auto;
  box-sizing: border-box;
}

.modal__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal__title {
  margin-top: 0;
  margin-bottom: 0;
  font-weight: 600;
  font-size: 1.25rem;
  line-height: 1.25;
  color: #222;
  box-sizing: border-box;
}

.modal__footer {
  text-align: right;
}

.modal__footer>.modal__btn {
  margin-right: 8px;
}

.modal__close {
  background: transparent;
  border: 0;
}

.modal__header .modal__close:before { content: ""; }

.modal__content {
  margin-top: 2rem;
  margin-bottom: 2rem;
  line-height: 1.5;
  color: rgba(0,0,0,.8);
}

.modal__btn {
  font-size: .875rem;
  padding-left: 1rem;
  padding-right: 1rem;
  padding-top: .5rem;
  padding-bottom: .5rem;
  background-color: #e6e6e6;
  color: rgba(0,0,0,.8);
  border-radius: .25rem;
  border-style: none;
  border-width: 0;
  cursor: pointer;
  -webkit-appearance: button;
  text-transform: none;
  overflow: visible;
  line-height: 1.15;
  margin: 0;
  will-change: transform;
  -moz-osx-font-smoothing: grayscale;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  transition: -webkit-transform .25s ease-out;
  transition: transform .25s ease-out;
  transition: transform .25s ease-out,-webkit-transform .25s ease-out;
}

.modal__btn:focus, .modal__btn:hover {
  -webkit-transform: scale(1.05);
  transform: scale(1.05);
}

.modal__btn-primary {
  background-color: #333;
  color: #fff;
}



/**************************  Demo Animation Style
**************************/
@keyframes mmfadeIn {
    from { opacity: 0; }
      to { opacity: 1; }
}

@keyframes mmfadeOut {
    from { opacity: 1; }
      to { opacity: 0; }
}

@keyframes mmslideIn {
  from { transform: translateY(15%); }
    to { transform: translateY(0); }
}

@keyframes mmslideOut {
    from { transform: translateY(0); }
    to { transform: translateY(-10%); }
}

.micromodal-slide {
  display: none;
}

.micromodal-slide.is-open {
  display: block;
}

.micromodal-slide[aria-hidden="false"] .modal__overlay {
  animation: mmfadeIn .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}

.micromodal-slide[aria-hidden="false"] .modal__container {
  animation: mmslideIn .3s cubic-bezier(0, 0, .2, 1);
}

.micromodal-slide[aria-hidden="true"] .modal__overlay {
  animation: mmfadeOut .3s cubic-bezier(0.0, 0.0, 0.2, 1);
}

.micromodal-slide[aria-hidden="true"] .modal__container {
  animation: mmslideOut .3s cubic-bezier(0, 0, .2, 1);
}

.micromodal-slide .modal__container,
.micromodal-slide .modal__overlay {
  will-change: transform;
}
`}),330:(function(te,P,K){var g=this&&this.__assign||function(){return g=Object.assign||function(y){for(var x,k=1,D=arguments.length;k<D;k++){x=arguments[k];for(var F in x)Object.prototype.hasOwnProperty.call(x,F)&&(y[F]=x[F])}return y},g.apply(this,arguments)};Object.defineProperty(P,"__esModule",{value:!0}),P.showDot=P.initDotWithCSS=P.showDialog=P.showWarning=void 0;var E=K(650),v=K(713),l=K(848),s=document.createElement("style");s.textContent=v.css,document.head.append(s);function r(y,x,k){k===void 0&&(k="");var D='<div class="modal micromodal-slide" id="modal-'.concat(y,`" aria-hidden="true">
		<div class="modal__overlay" tabindex="-1" data-micromodal-close>
		<div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-`).concat(y,`-title">
			<header class="modal__header">
				<h2 class="modal__title" id="modal-`).concat(y,`-title">
					`).concat(x,`
				</h2>
				<button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
			</header>
			<main class="modal__content">
				<p id="modal-`).concat(y,`-content">
					`).concat(k,`
				</p>
			</main>
		</div>
		</div>
	</div>`),F=document.createElement("div");return F.innerHTML=D,F.firstChild}var n=!1,h=!1,c="alert",p=r(c,"Warning"),f="dialog",e=r(f,"Saving...");function i(y){console.warn(y),l.PARAMS.SHOW_ALERTS&&(n||(n=!0,document.getElementsByTagName("body")[0].appendChild(p)),document.getElementById("modal-".concat(c,"-content")).innerHTML=y,E.default.show("modal-".concat(c)))}P.showWarning=i;function u(y,x,k){if(l.PARAMS.VERBOSE&&console.log(y,x),!!l.PARAMS.SHOW_DIALOGS){h||(h=!0,document.getElementsByTagName("body")[0].appendChild(e)),document.getElementById("modal-".concat(f,"-title")).innerHTML=y,document.getElementById("modal-".concat(f,"-content")).innerHTML=x,E.default.show("modal-".concat(f));var D=(k==null?void 0:k.autoCloseDelay)!==void 0?k.autoCloseDelay:-1;D>0&&setTimeout(function(){E.default.close("modal-".concat(f))},D)}}P.showDialog=u;var o=document.createElement("div");function m(y){o.id="recordingDot";var x=g({background:"red",width:"20px",height:"20px","border-radius":"50%",display:"none",position:"absolute",top:"0",right:"0","z-index":"10",margin:"20px"},y);Object.assign(o.style,x),document.getElementsByTagName("body")[0].appendChild(o)}P.initDotWithCSS=m;function d(y){l.PARAMS.SHOW_REC_DOT&&(y?o.style.display="inline-block":o.style.display="none")}P.showDot=d}),848:((te,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.PARAMS=void 0,P.PARAMS={VERBOSE:!1,SHOW_ALERTS:!1,SHOW_DIALOGS:!1,SHOW_REC_DOT:!1,IS_MANUALLY_CHECKING_HOTKEYS:!1}}),886:((te,P,K)=>{te=K.nmd(te);var g;(function(){if(typeof te.exports<"u")var E=K(846),v=K(173),l=K(769),s=K(166);var r={function:!0,object:!0};function n(B){return B&&B.Object===Object?B:null}var h=r[typeof P]&&P&&!P.nodeType?P:void 0,c=te&&!te.nodeType?te:void 0;c&&c.exports;var p=n(h&&c&&typeof K.g=="object"&&K.g),f=n(r[typeof self]&&self),e=n(r[typeof window]&&window),i=n(r[typeof this]&&this);p||e!==(i&&i.window)&&e||f||i||Function("return this")(),"gc"in window||(window.gc=function(){}),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(B,w,L){for(var a=atob(this.toDataURL(w,L).split(",")[1]),N=a.length,Y=new Uint8Array(N),j=0;j<N;j++)Y[j]=a.charCodeAt(j);B(new Blob([Y],{type:w||"image/png"}))}});// @license http://opensource.org/licenses/MIT
(function(){if("performance"in window||(window.performance={}),Date.now=Date.now||function(){return new Date().getTime()},!("now"in window.performance)){var B=Date.now();performance.timing&&performance.timing.navigationStart&&(B=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-B}}})();function u(B){return("0000000"+B).slice(-7)}var o=window.Date.now();function m(){function B(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return B()+B()+"-"+B()+"-"+B()+"-"+B()+"-"+B()+B()+B()}function d(B){var w={};this.settings=B,this.on=function(L,a){w[L]=a},this.emit=function(L){var a=w[L];a&&a.apply(null,Array.prototype.slice.call(arguments,1))},this.filename=B.name||m(),this.extension="",this.mimeType=""}d.prototype.start=function(){},d.prototype.stop=function(){},d.prototype.add=function(){},d.prototype.save=function(){},d.prototype.dispose=function(){},d.prototype.safeToProceed=function(){return!0},d.prototype.step=function(){console.log("Step not set!")};function y(B){d.call(this,B),this.extension=".tar",this.mimeType="application/x-tar",this.fileExtension="",this.tape=null,this.count=0}y.prototype=Object.create(d.prototype),y.prototype.start=function(){this.dispose()},y.prototype.add=function(B){var w=new FileReader;w.onload=(function(){this.tape.append(u(this.count)+this.fileExtension,new Uint8Array(w.result)),this.count++,this.step()}).bind(this),w.readAsArrayBuffer(B)},y.prototype.save=function(B){B(this.tape.save())},y.prototype.dispose=function(){this.tape=new E,this.count=0};function x(B){y.call(this,B),this.type="image/png",this.fileExtension=".png"}x.prototype=Object.create(y.prototype),x.prototype.add=function(B){B.toBlob((function(w){y.prototype.add.call(this,w)}).bind(this),this.type)};function k(B){y.call(this,B),this.type="image/jpeg",this.fileExtension=".jpg",this.quality=B.quality/100||.8}k.prototype=Object.create(y.prototype),k.prototype.add=function(B){B.toBlob((function(w){y.prototype.add.call(this,w)}).bind(this),this.type,this.quality)};function D(B){var w=document.createElement("canvas");w.toDataURL("image/webp").substr(5,10)!=="image/webp"&&console.log("WebP not supported - try another export format"),d.call(this,B),this.quality=B.quality/100||.8,this.extension=".webm",this.mimeType="video/webm",this.baseFilename=this.filename,this.frames=[],this.part=1,this.videoWriter=new s({quality:this.quality,fileWriter:null,fd:null,frameRate:B.framerate})}D.prototype=Object.create(d.prototype),D.prototype.start=function(B){this.dispose()},D.prototype.add=function(B){this.videoWriter.addFrame(B),this.settings.autoSaveTime>0&&this.frames.length/this.settings.framerate>=this.settings.autoSaveTime?this.save((function(w){this.filename=this.baseFilename+"-part-"+u(this.part),v(w,this.filename+this.extension,this.mimeType),this.dispose(),this.part++,this.filename=this.baseFilename+"-part-"+u(this.part),this.step()}).bind(this)):this.step()},D.prototype.save=function(B){this.videoWriter.complete().then(B)},D.prototype.dispose=function(B){this.frames=[]};function F(B){d.call(this,B),B.quality=B.quality/100||.8,this.encoder=new FFMpegServer.Video(B),this.encoder.on("process",(function(){this.emit("process")}).bind(this)),this.encoder.on("finished",(function(w,L){var a=this.callback;a&&(this.callback=void 0,a(w,L))}).bind(this)),this.encoder.on("progress",(function(w){this.settings.onProgress&&this.settings.onProgress(w)}).bind(this)),this.encoder.on("error",(function(w){alert(JSON.stringify(w,null,2))}).bind(this))}F.prototype=Object.create(d.prototype),F.prototype.start=function(){this.encoder.start(this.settings)},F.prototype.add=function(B){this.encoder.add(B)},F.prototype.save=function(B){this.callback=B,this.encoder.end()},F.prototype.safeToProceed=function(){return this.encoder.safeToProceed()};function T(B){d.call(this,B),this.framerate=this.settings.framerate,this.type="video/webm",this.extension=".webm",this.stream=null,this.mediaRecorder=null,this.chunks=[]}T.prototype=Object.create(d.prototype),T.prototype.add=function(B){this.stream||(this.stream=B.captureStream(this.framerate),this.mediaRecorder=new MediaRecorder(this.stream),this.mediaRecorder.start(),this.mediaRecorder.ondataavailable=(function(w){this.chunks.push(w.data)}).bind(this)),this.step()},T.prototype.save=function(B){this.mediaRecorder.onstop=(function(w){var L=new Blob(this.chunks,{type:"video/webm"});this.chunks=[],B(L)}).bind(this),this.mediaRecorder.stop()};function S(B){d.call(this,B),B.quality=31-(B.quality*30/100||10),B.workers=B.workers||4,this.extension=".gif",this.mimeType="image/gif",this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.sizeSet=!1,this.encoder=new l({workers:B.workers,quality:B.quality,workerScript:B.workersPath}),this.encoder.on("progress",(function(w){this.settings.onProgress&&this.settings.onProgress(w)}).bind(this)),this.encoder.on("finished",(function(w){var L=this.callback;L&&(this.callback=void 0,L(w))}).bind(this))}S.prototype=Object.create(d.prototype),S.prototype.add=function(B){this.sizeSet||(this.encoder.setOption("width",B.width),this.encoder.setOption("height",B.height),this.sizeSet=!0),this.canvas.width=B.width,this.canvas.height=B.height,this.ctx.drawImage(B,0,0),this.encoder.addFrame(this.ctx,{copy:!0,delay:this.settings.step}),this.step()},S.prototype.save=function(B){this.callback=B,this.encoder.render()};function O(B){var w=B||{},L,a,N,Y,j,xe,J,W=[],ie=[],M=0,I=0,le=[],q=!1,V={};w.framerate=w.framerate||60,w.motionBlurFrames=2*(w.motionBlurFrames||1),L=w.verbose||!1,w.display,w.step=1e3/w.framerate,w.timeLimit=w.timeLimit||0,w.frameLimit=w.frameLimit||0,w.startTime=w.startTime||0;var de=document.createElement("div");de.style.position="absolute",de.style.left=de.style.top=0,de.style.backgroundColor="black",de.style.fontFamily="monospace",de.style.fontSize="11px",de.style.padding="5px",de.style.color="red",de.style.zIndex=1e5,w.display&&document.body.appendChild(de);var we=document.createElement("canvas"),ve=we.getContext("2d"),me,Se;ce("Step is set to "+w.step+"ms");var re={gif:S,webm:D,ffmpegserver:F,png:x,jpg:k,"webm-mediarecorder":T},se=re[w.format];if(!se)throw"Error: Incorrect or missing format: Valid formats are "+Object.keys(re).join(", ");if(J=new se(w),J.step=xe,J.on("process",oe),J.on("progress",he),"performance"in window||(window.performance={}),Date.now=Date.now||function(){return new Date().getTime()},!("now"in window.performance)){var be=Date.now();performance.timing&&performance.timing.navigationStart&&(be=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-be}}var t=window.setTimeout,U=window.setInterval,z=window.clearInterval,_=window.clearTimeout,b=window.requestAnimationFrame,C=window.Date.now,H=window.performance.now,Z=window.Date.prototype.getTime,R=[];function Q(){ce("Capturer start"),N=window.Date.now(),a=N+w.startTime,j=window.performance.now(),Y=j+w.startTime,window.Date.prototype.getTime=function(){return a},window.Date.now=function(){return a},window.setTimeout=function(fe,_e){var Ee={callback:fe,time:_e,triggerTime:a+_e};return W.push(Ee),ce("Timeout set to "+Ee.time),Ee},window.clearTimeout=function(fe){for(var _e=0;_e<W.length;_e++)if(W[_e]==fe){W.splice(_e,1),ce("Timeout cleared");continue}},window.setInterval=function(fe,_e){var Ee={callback:fe,time:_e,triggerTime:a+_e};return ie.push(Ee),ce("Interval set to "+Ee.time),Ee},window.clearInterval=function(fe){return ce("clear Interval"),null},window.requestAnimationFrame=function(fe){le.push(fe)},window.performance.now=function(){return Y};function ue(){return this._hooked||(this._hooked=!0,this._hookedTime=this.currentTime||0,this.pause(),R.push(this)),this._hookedTime+w.startTime}try{Object.defineProperty(HTMLVideoElement.prototype,"currentTime",{get:ue}),Object.defineProperty(HTMLAudioElement.prototype,"currentTime",{get:ue})}catch(fe){ce(fe)}}function ae(){Q(),J.start(),q=!0}function ee(){q=!1,J.stop(),ye()}function pe(ue,fe){t(ue,0,fe)}function xe(){pe(oe)}function ye(){ce("Capturer stop"),window.setTimeout=t,window.setInterval=U,window.clearInterval=z,window.clearTimeout=_,window.requestAnimationFrame=b,window.Date.prototype.getTime=Z,window.Date.now=C,window.performance.now=H}function Pe(){var ue=M/w.framerate;(w.frameLimit&&M>=w.frameLimit||w.timeLimit&&ue>=w.timeLimit)&&(ee(),ne());var fe=new Date(null);fe.setSeconds(ue),w.motionBlurFrames>2?de.textContent="CCapture "+w.format+" | "+M+" frames ("+I+" inter) | "+fe.toISOString().substr(11,8):de.textContent="CCapture "+w.format+" | "+M+" frames | "+fe.toISOString().substr(11,8)}function A(ue){(we.width!==ue.width||we.height!==ue.height)&&(we.width=ue.width,we.height=ue.height,me=new Uint16Array(we.height*we.width*4),ve.fillStyle="#0",ve.fillRect(0,0,we.width,we.height))}function G(ue){ve.drawImage(ue,0,0),Se=ve.getImageData(0,0,we.width,we.height);for(var fe=0;fe<me.length;fe+=4)me[fe]+=Se.data[fe],me[fe+1]+=Se.data[fe+1],me[fe+2]+=Se.data[fe+2];I++}function $(){for(var ue=Se.data,fe=0;fe<me.length;fe+=4)ue[fe]=me[fe]*2/w.motionBlurFrames,ue[fe+1]=me[fe+1]*2/w.motionBlurFrames,ue[fe+2]=me[fe+2]*2/w.motionBlurFrames;ve.putImageData(Se,0,0),J.add(we),M++,I=0,ce("Full MB Frame! "+M+" "+a);for(var fe=0;fe<me.length;fe+=4)me[fe]=0,me[fe+1]=0,me[fe+2]=0;gc()}function X(ue){q&&(w.motionBlurFrames>2?(A(ue),G(ue),I>=.5*w.motionBlurFrames?$():xe()):(J.add(ue),M++,ce("Full Frame! "+M)))}function oe(){var ue=1e3/w.framerate,fe=(M+I/w.motionBlurFrames)*ue;a=N+fe,Y=j+fe,R.forEach(function(Ee){Ee._hookedTime=fe/1e3}),Pe(),ce("Frame: "+M+" "+I);for(var _e=0;_e<W.length;_e++)if(a>=W[_e].triggerTime){pe(W[_e].callback),W.splice(_e,1);continue}for(var _e=0;_e<ie.length;_e++)if(a>=ie[_e].triggerTime){pe(ie[_e].callback),ie[_e].triggerTime+=ie[_e].time;continue}le.forEach(function(Ee){pe(Ee,a-o)}),le=[]}function ne(ue){ue||(ue=function(fe){return v(fe,J.filename+J.extension,J.mimeType),!1}),J.save(ue)}function ce(ue){L&&console.log(ue)}function ge(ue,fe){V[ue]=fe}function ke(ue){var fe=V[ue];fe&&fe.apply(null,Array.prototype.slice.call(arguments,1))}function he(ue){ke("progress",ue)}return{start:ae,capture:X,stop:ee,save:ne,on:ge}}(e||f||{}).CCapture=O,g=(function(){return O}).call(P,K,P,te),g!==void 0&&(te.exports=g)})()}),173:(te=>{function P(K,g,E){var v=window,l="application/octet-stream",s=E||l,r=K,n=document,h=n.createElement("a"),c=function(y){return String(y)},p=v.Blob||v.MozBlob||v.WebKitBlob||c,f=v.MSBlobBuilder||v.WebKitBlobBuilder||v.BlobBuilder,e=g||"download",i,u,o;if(String(this)==="true"&&(r=[r,s],s=r[0],r=r[1]),String(r).match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/))return navigator.msSaveBlob?navigator.msSaveBlob(m(r),e):d(r);try{i=r instanceof p?r:new p([r],{type:s})}catch{f&&(u=new f,u.append([r]),i=u.getBlob(s))}function m(y){var x=y.split(/[:;,]/),k=x[1],D=x[2]=="base64"?atob:decodeURIComponent,F=D(x.pop()),T=F.length,S=0,O=new Uint8Array(T);for(S;S<T;++S)O[S]=F.charCodeAt(S);return new p([O],{type:k})}function d(y,x){if("download"in h)return h.href=y,h.setAttribute("download",e),h.innerHTML="downloading...",h.style.display="none",n.body.appendChild(h),setTimeout(function(){h.click(),n.body.removeChild(h),x===!0&&setTimeout(function(){v.URL.revokeObjectURL(h.href)},250)},66),!0;var k=n.createElement("iframe");n.body.appendChild(k),x||(y="data:"+y.replace(/^data:([\w\/\-\+]+)/,l)),k.src=y,setTimeout(function(){n.body.removeChild(k)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(v.URL)d(v.URL.createObjectURL(i),!0);else{if(typeof i=="string"||i.constructor===c)try{return d("data:"+s+";base64,"+v.btoa(i))}catch{return d("data:"+s+","+encodeURIComponent(i))}o=new FileReader,o.onload=function(y){d(this.result)},o.readAsDataURL(i)}return!0}typeof te.exports<"u"&&(te.exports=P)}),769:(te=>{(function(P){te.exports=P()})(function(){return(function(){function P(K,g,E){function v(s,r){if(!g[s]){if(!K[s]){var n=void 0;if(!r&&n)return tt(s);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=g[s]={exports:{}};K[s][0].call(c.exports,function(p){var f=K[s][1][p];return v(f||p)},c,c.exports,P,K,g,E)}return g[s].exports}for(var l=0;l<E.length;l++)v(E[l]);return v}return P})()({1:[function(P,K,g){function E(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}K.exports=E,E.EventEmitter=E,E.prototype._events=void 0,E.prototype._maxListeners=void 0,E.defaultMaxListeners=10,E.prototype.setMaxListeners=function(n){if(!l(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},E.prototype.emit=function(n){var h,c,p,f,e,i;if(this._events||(this._events={}),n==="error"&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(h=arguments[1],h instanceof Error)throw h;var u=new Error('Uncaught, unspecified "error" event. ('+h+")");throw u.context=h,u}if(c=this._events[n],r(c))return!1;if(v(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(s(c))for(f=Array.prototype.slice.call(arguments,1),i=c.slice(),p=i.length,e=0;e<p;e++)i[e].apply(this,f);return!0},E.prototype.addListener=function(n,h){var c;if(!v(h))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",n,v(h.listener)?h.listener:h),this._events[n]?s(this._events[n])?this._events[n].push(h):this._events[n]=[this._events[n],h]:this._events[n]=h,s(this._events[n])&&!this._events[n].warned&&(r(this._maxListeners)?c=E.defaultMaxListeners:c=this._maxListeners,c&&c>0&&this._events[n].length>c&&(this._events[n].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length),typeof console.trace=="function"&&console.trace())),this},E.prototype.on=E.prototype.addListener,E.prototype.once=function(n,h){if(!v(h))throw TypeError("listener must be a function");var c=!1;function p(){this.removeListener(n,p),c||(c=!0,h.apply(this,arguments))}return p.listener=h,this.on(n,p),this},E.prototype.removeListener=function(n,h){var c,p,f,e;if(!v(h))throw TypeError("listener must be a function");if(!this._events||!this._events[n])return this;if(c=this._events[n],f=c.length,p=-1,c===h||v(c.listener)&&c.listener===h)delete this._events[n],this._events.removeListener&&this.emit("removeListener",n,h);else if(s(c)){for(e=f;e-- >0;)if(c[e]===h||c[e].listener&&c[e].listener===h){p=e;break}if(p<0)return this;c.length===1?(c.length=0,delete this._events[n]):c.splice(p,1),this._events.removeListener&&this.emit("removeListener",n,h)}return this},E.prototype.removeAllListeners=function(n){var h,c;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[n]&&delete this._events[n],this;if(arguments.length===0){for(h in this._events)h!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[n],v(c))this.removeListener(n,c);else if(c)for(;c.length;)this.removeListener(n,c[c.length-1]);return delete this._events[n],this},E.prototype.listeners=function(n){var h;return!this._events||!this._events[n]?h=[]:v(this._events[n])?h=[this._events[n]]:h=this._events[n].slice(),h},E.prototype.listenerCount=function(n){if(this._events){var h=this._events[n];if(v(h))return 1;if(h)return h.length}return 0},E.listenerCount=function(n,h){return n.listenerCount(h)};function v(n){return typeof n=="function"}function l(n){return typeof n=="number"}function s(n){return typeof n=="object"&&n!==null}function r(n){return n===void 0}},{}],2:[function(P,K,g){var E=P("./TypedNeuQuant.js"),v=P("./LZWEncoder.js");function l(){this.page=-1,this.pages=[],this.newPage()}l.pageSize=4096,l.charMap={};for(var s=0;s<256;s++)l.charMap[s]=String.fromCharCode(s);l.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(l.pageSize),this.cursor=0},l.prototype.getData=function(){for(var n="",h=0;h<this.pages.length;h++)for(var c=0;c<l.pageSize;c++)n+=l.charMap[this.pages[h][c]];return n},l.prototype.writeByte=function(n){this.cursor>=l.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=n},l.prototype.writeUTFBytes=function(n){for(var h=n.length,c=0;c<h;c++)this.writeByte(n.charCodeAt(c))},l.prototype.writeBytes=function(n,h,c){for(var p=c||n.length,f=h||0;f<p;f++)this.writeByte(n[f])};function r(n,h){this.width=~~n,this.height=~~h,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new l}r.prototype.setDelay=function(n){this.delay=Math.round(n/10)},r.prototype.setFrameRate=function(n){this.delay=Math.round(100/n)},r.prototype.setDispose=function(n){n>=0&&(this.dispose=n)},r.prototype.setRepeat=function(n){this.repeat=n},r.prototype.setTransparent=function(n){this.transparent=n},r.prototype.addFrame=function(n){this.image=n,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),this.globalPalette===!0&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),!this.firstFrame&&!this.globalPalette&&this.writePalette(),this.writePixels(),this.firstFrame=!1},r.prototype.finish=function(){this.out.writeByte(59)},r.prototype.setQuality=function(n){n<1&&(n=1),this.sample=n},r.prototype.setDither=function(n){n===!0&&(n="FloydSteinberg"),this.dither=n},r.prototype.setGlobalPalette=function(n){this.globalPalette=n},r.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},r.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},r.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new E(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),this.dither.match(/-serpentine/)!==null):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent,!0))},r.prototype.indexPixels=function(n){var h=this.pixels.length/3;this.indexedPixels=new Uint8Array(h);for(var c=0,p=0;p<h;p++){var f=this.findClosestRGB(this.pixels[c++]&255,this.pixels[c++]&255,this.pixels[c++]&255);this.usedEntry[f]=!0,this.indexedPixels[p]=f}},r.prototype.ditherPixels=function(n,h){var c={FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]]};if(!n||!c[n])throw"Unknown dithering kernel: "+n;var p=c[n],f=0,e=this.height,i=this.width,u=this.pixels,o=h?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var m=0;m<e;m++){h&&(o=o*-1);for(var d=o==1?0:i-1,y=o==1?i:0;d!==y;d+=o){f=m*i+d;var x=f*3,k=u[x],D=u[x+1],F=u[x+2];x=this.findClosestRGB(k,D,F),this.usedEntry[x]=!0,this.indexedPixels[f]=x,x*=3;for(var T=this.colorTab[x],S=this.colorTab[x+1],O=this.colorTab[x+2],B=k-T,w=D-S,L=F-O,a=o==1?0:p.length-1,N=o==1?p.length:0;a!==N;a+=o){var Y=p[a][1],j=p[a][2];if(Y+d>=0&&Y+d<i&&j+m>=0&&j+m<e){var J=p[a][0];x=f+Y+j*i,x*=3,u[x]=Math.max(0,Math.min(255,u[x]+B*J)),u[x+1]=Math.max(0,Math.min(255,u[x+1]+w*J)),u[x+2]=Math.max(0,Math.min(255,u[x+2]+L*J))}}}}},r.prototype.findClosest=function(n,h){return this.findClosestRGB((n&16711680)>>16,(n&65280)>>8,n&255,h)},r.prototype.findClosestRGB=function(n,h,c,p){if(this.colorTab===null)return-1;if(this.neuQuant&&!p)return this.neuQuant.lookupRGB(n,h,c);for(var f=0,e=256*256*256,i=this.colorTab.length,u=0,o=0;u<i;o++){var m=n-(this.colorTab[u++]&255),d=h-(this.colorTab[u++]&255),y=c-(this.colorTab[u++]&255),x=m*m+d*d+y*y;(!p||this.usedEntry[o])&&x<e&&(e=x,f=o)}return f},r.prototype.getImagePixels=function(){var n=this.width,h=this.height;this.pixels=new Uint8Array(n*h*3);for(var c=this.image,p=0,f=0,e=0;e<h;e++)for(var i=0;i<n;i++)this.pixels[f++]=c[p++],this.pixels[f++]=c[p++],this.pixels[f++]=c[p++],p++},r.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var n,h;this.transparent===null?(n=0,h=0):(n=1,h=2),this.dispose>=0&&(h=this.dispose&7),h<<=2,this.out.writeByte(0|h|0|n),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},r.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},r.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},r.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},r.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var n=3*256-this.colorTab.length,h=0;h<n;h++)this.out.writeByte(0)},r.prototype.writeShort=function(n){this.out.writeByte(n&255),this.out.writeByte(n>>8&255)},r.prototype.writePixels=function(){var n=new v(this.width,this.height,this.indexedPixels,this.colorDepth);n.encode(this.out)},r.prototype.stream=function(){return this.out},K.exports=r},{"./LZWEncoder.js":3,"./TypedNeuQuant.js":4}],3:[function(P,K,g){var E=-1,v=12,l=5003,s=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function r(n,h,c,p){var f=Math.max(2,p),e=new Uint8Array(256),i=new Int32Array(l),u=new Int32Array(l),o,m=0,d,y=0,x,k=!1,D,F,T;function S(J,W){e[d++]=J,d>=254&&a(W)}function O(J){B(l),y=F+2,k=!0,j(F,J)}function B(J){for(var W=0;W<J;++W)i[W]=-1}function w(J,W){var ie,M,I,le,q,V,de;for(D=J,k=!1,n_bits=D,x=N(n_bits),F=1<<J-1,T=F+1,y=F+2,d=0,le=Y(),de=0,ie=l;ie<65536;ie*=2)++de;de=8-de,V=l,B(V),j(F,W);e:for(;(M=Y())!=E;){if(ie=(M<<v)+le,I=M<<de^le,i[I]===ie){le=u[I];continue}else if(i[I]>=0){q=V-I,I===0&&(q=1);do if((I-=q)<0&&(I+=V),i[I]===ie){le=u[I];continue e}while(i[I]>=0)}j(le,W),le=M,y<1<<v?(u[I]=y++,i[I]=ie):O(W)}j(le,W),j(T,W)}function L(J){J.writeByte(f),remaining=n*h,curPixel=0,w(f+1,J),J.writeByte(0)}function a(J){d>0&&(J.writeByte(d),J.writeBytes(e,0,d),d=0)}function N(J){return(1<<J)-1}function Y(){if(remaining===0)return E;--remaining;var J=c[curPixel++];return J&255}function j(J,W){for(o&=s[m],m>0?o|=J<<m:o=J,m+=n_bits;m>=8;)S(o&255,W),o>>=8,m-=8;if((y>x||k)&&(k?(x=N(n_bits=D),k=!1):(++n_bits,n_bits==v?x=1<<v:x=N(n_bits))),J==T){for(;m>0;)S(o&255,W),o>>=8,m-=8;a(W)}}this.encode=L}K.exports=r},{}],4:[function(P,K,g){var E=100,v=256,l=v-1,s=4,r=16,n=1<<r,h=10,c=10,p=n>>c,f=n<<h-c,e=v>>3,i=6,u=1<<i,o=e*u,m=30,d=10,y=1<<d,x=8,k=1<<x,D=d+x,F=1<<D,T=499,S=491,O=487,B=503,w=3*B;function L(a,N){var Y,j,J,W,ie;function M(){Y=[],j=new Int32Array(256),J=new Int32Array(v),W=new Int32Array(v),ie=new Int32Array(v>>3);var re,se;for(re=0;re<v;re++)se=(re<<s+8)/v,Y[re]=new Float64Array([se,se,se,0]),W[re]=n/v,J[re]=0}function I(){for(var re=0;re<v;re++)Y[re][0]>>=s,Y[re][1]>>=s,Y[re][2]>>=s,Y[re][3]=re}function le(re,se,be,t,U){Y[se][0]-=re*(Y[se][0]-be)/y,Y[se][1]-=re*(Y[se][1]-t)/y,Y[se][2]-=re*(Y[se][2]-U)/y}function q(re,se,be,t,U){for(var z=Math.abs(se-re),_=Math.min(se+re,v),b=se+1,C=se-1,H=1,Z,R;b<_||C>z;)R=ie[H++],b<_&&(Z=Y[b++],Z[0]-=R*(Z[0]-be)/F,Z[1]-=R*(Z[1]-t)/F,Z[2]-=R*(Z[2]-U)/F),C>z&&(Z=Y[C--],Z[0]-=R*(Z[0]-be)/F,Z[1]-=R*(Z[1]-t)/F,Z[2]-=R*(Z[2]-U)/F)}function V(re,se,be){var t=2147483647,U=t,z=-1,_=z,b,C,H,Z,R;for(b=0;b<v;b++)C=Y[b],H=Math.abs(C[0]-re)+Math.abs(C[1]-se)+Math.abs(C[2]-be),H<t&&(t=H,z=b),Z=H-(J[b]>>r-s),Z<U&&(U=Z,_=b),R=W[b]>>c,W[b]-=R,J[b]+=R<<h;return W[z]+=p,J[z]-=f,_}function de(){var re,se,be,t,U,z,_=0,b=0;for(re=0;re<v;re++){for(be=Y[re],U=re,z=be[1],se=re+1;se<v;se++)t=Y[se],t[1]<z&&(U=se,z=t[1]);if(t=Y[U],re!=U&&(se=t[0],t[0]=be[0],be[0]=se,se=t[1],t[1]=be[1],be[1]=se,se=t[2],t[2]=be[2],be[2]=se,se=t[3],t[3]=be[3],be[3]=se),z!=_){for(j[_]=b+re>>1,se=_+1;se<z;se++)j[se]=re;_=z,b=re}}for(j[_]=b+l>>1,se=_+1;se<256;se++)j[se]=l}function we(re,se,be){for(var t,U,z,_=1e3,b=-1,C=j[se],H=C-1;C<v||H>=0;)C<v&&(U=Y[C],z=U[1]-se,z>=_?C=v:(C++,z<0&&(z=-z),t=U[0]-re,t<0&&(t=-t),z+=t,z<_&&(t=U[2]-be,t<0&&(t=-t),z+=t,z<_&&(_=z,b=U[3])))),H>=0&&(U=Y[H],z=se-U[1],z>=_?H=-1:(H--,z<0&&(z=-z),t=U[0]-re,t<0&&(t=-t),z+=t,z<_&&(t=U[2]-be,t<0&&(t=-t),z+=t,z<_&&(_=z,b=U[3]))));return b}function ve(){var re,se=a.length,be=30+(N-1)/3,t=se/(3*N),U=~~(t/E),z=y,_=o,b=_>>i;for(b<=1&&(b=0),re=0;re<b;re++)ie[re]=z*((b*b-re*re)*k/(b*b));var C;se<w?(N=1,C=3):se%T!==0?C=3*T:se%S!==0?C=3*S:se%O!==0?C=3*O:C=3*B;var H,Z,R,Q,ae=0;for(re=0;re<t;)if(H=(a[ae]&255)<<s,Z=(a[ae+1]&255)<<s,R=(a[ae+2]&255)<<s,Q=V(H,Z,R),le(z,Q,H,Z,R),b!==0&&q(b,Q,H,Z,R),ae+=C,ae>=se&&(ae-=se),re++,U===0&&(U=1),re%U===0)for(z-=z/be,_-=_/m,b=_>>i,b<=1&&(b=0),Q=0;Q<b;Q++)ie[Q]=z*((b*b-Q*Q)*k/(b*b))}function me(){M(),ve(),I(),de()}this.buildColormap=me;function Se(){for(var re=[],se=[],be=0;be<v;be++)se[Y[be][3]]=be;for(var t=0,U=0;U<v;U++){var z=se[U];re[t++]=Y[z][0],re[t++]=Y[z][1],re[t++]=Y[z][2]}return re}this.getColormap=Se,this.lookupRGB=we}K.exports=L},{}],5:[function(P,K,g){var E,v,l,s,r;r=navigator.userAgent.toLowerCase(),s=navigator.platform.toLowerCase(),E=r.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],l=E[1]==="ie"&&document.documentMode,v={name:E[1]==="version"?E[3]:E[1],version:l||parseFloat(E[1]==="opera"&&E[4]?E[4]:E[2]),platform:{name:r.match(/ip(?:ad|od|hone)/)?"ios":(r.match(/(?:webos|android)/)||s.match(/mac|win|linux/)||["other"])[0]}},v[v.name]=!0,v[v.name+parseInt(v.version,10)]=!0,v.platform[v.platform.name]=!0,K.exports=v},{}],6:[function(P,K,g){var E,v,l=function(h,c){for(var p in c)s.call(c,p)&&(h[p]=c[p]);function f(){this.constructor=h}return f.prototype=c.prototype,h.prototype=new f,h.__super__=c.prototype,h},s={}.hasOwnProperty,r=[].indexOf||function(h){for(var c=0,p=this.length;c<p;c++)if(c in this&&this[c]===h)return c;return-1},n=[].slice;E=P("events").EventEmitter,v=P("./browser.coffee"),P("./GIFEncoder.js"),P("./gif.worker.coffee"),K.exports=(function(h){var c,p;l(f,h),c={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},p={delay:500,copy:!1,dispose:-1};function f(e){var i,u,o;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e);for(u in c)o=c[u],(i=this.options)[u]==null&&(i[u]=o)}return f.prototype.setOption=function(e,i){if(this.options[e]=i,this._canvas!=null&&(e==="width"||e==="height"))return this._canvas[e]=i},f.prototype.setOptions=function(e){var i,u,o;u=[];for(i in e)s.call(e,i)&&(o=e[i],u.push(this.setOption(i,o)));return u},f.prototype.addFrame=function(e,i){var u,o;i==null&&(i={}),u={},u.transparent=this.options.transparent;for(o in p)u[o]=i[o]||p[o];if(this.options.width==null&&this.setOption("width",e.width),this.options.height==null&&this.setOption("height",e.height),typeof ImageData<"u"&&ImageData!==null&&e instanceof ImageData)u.data=e.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&e instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&e instanceof WebGLRenderingContext)i.copy?u.data=this.getContextData(e):u.context=e;else if(e.childNodes!=null)i.copy?u.data=this.getImageData(e):u.image=e;else throw new Error("Invalid image");return this.frames.push(u)},f.prototype.render=function(){var e,i,u;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var o,m,d;for(d=[],o=0,m=this.frames.length;0<=m?o<m:o>m;0<=m?++o:--o)d.push(null);return d}).call(this),i=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(e=0,u=i;0<=u?e<u:e>u;0<=u?++e:--e)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},f.prototype.abort=function(){for(var e;e=this.activeWorkers.shift(),e!=null;)this.log("killing active worker"),e.terminate();return this.running=!1,this.emit("abort")},f.prototype.spawnWorkers=function(){var e,i,u;return e=Math.min(this.options.workers,this.frames.length),(function(){u=[];for(var o=i=this.freeWorkers.length;i<=e?o<e:o>e;i<=e?o++:o--)u.push(o);return u}).apply(this).forEach((function(o){return function(m){var d;return o.log("spawning worker "+m),d=new Worker(o.options.workerScript),d.onmessage=function(y){return o.activeWorkers.splice(o.activeWorkers.indexOf(d),1),o.freeWorkers.push(d),o.frameFinished(y.data)},o.freeWorkers.push(d)}})(this)),e},f.prototype.frameFinished=function(e){var i,u;if(this.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,this.options.globalPalette===!0&&(this.options.globalPalette=e.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(i=1,u=this.freeWorkers.length;1<=u?i<u:i>u;1<=u?++i:--i)this.renderNextFrame();return r.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},f.prototype.finishRendering=function(){var e,i,u,o,m,d,y,x,k,D,F,T,S,O,B,w;for(x=0,O=this.imageParts,m=0,k=O.length;m<k;m++)i=O[m],x+=(i.data.length-1)*i.pageSize+i.cursor;for(x+=i.pageSize-i.cursor,this.log("rendering finished - filesize "+Math.round(x/1e3)+"kb"),e=new Uint8Array(x),T=0,B=this.imageParts,d=0,D=B.length;d<D;d++)for(i=B[d],w=i.data,u=y=0,F=w.length;y<F;u=++y)S=w[u],e.set(S,T),u===i.data.length-1?T+=i.cursor:T+=i.pageSize;return o=new Blob([e],{type:"image/gif"}),this.emit("finished",o,e)},f.prototype.renderNextFrame=function(){var e,i,u;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return e=this.frames[this.nextFrame++],u=this.freeWorkers.shift(),i=this.getTask(e),this.log("starting frame "+(i.index+1)+" of "+this.frames.length),this.activeWorkers.push(u),u.postMessage(i)},f.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},f.prototype.getImageData=function(e){var i;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),i=this._canvas.getContext("2d"),i.setFill=this.options.background,i.fillRect(0,0,this.options.width,this.options.height),i.drawImage(e,0,0),this.getContextData(i)},f.prototype.getTask=function(e){var i,u;if(i=this.frames.indexOf(e),u={index:i,last:i===this.frames.length-1,delay:e.delay,dispose:e.dispose,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:v.name==="chrome"},e.data!=null)u.data=e.data;else if(e.context!=null)u.data=this.getContextData(e.context);else if(e.image!=null)u.data=this.getImageData(e.image);else throw new Error("Invalid frame");return u},f.prototype.log=function(){var e;if(e=1<=arguments.length?n.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,e)},f})(E)},{"./GIFEncoder.js":2,"./browser.coffee":5,"./gif.worker.coffee":7,events:1}],7:[function(P,K,g){var E,v;E=P("./GIFEncoder.js"),v=function(l){var s,r,n,h;return s=new E(l.width,l.height),l.index===0?s.writeHeader():s.firstFrame=!1,s.setTransparent(l.transparent),s.setDispose(l.dispose),s.setRepeat(l.repeat),s.setDelay(l.delay),s.setQuality(l.quality),s.setDither(l.dither),s.setGlobalPalette(l.globalPalette),s.addFrame(l.data),l.last&&s.finish(),l.globalPalette===!0&&(l.globalPalette=s.getGlobalPalette()),n=s.stream(),l.data=n.pages,l.cursor=n.cursor,l.pageSize=n.constructor.pageSize,l.canTransfer?(h=(function(){var c,p,f,e;for(f=l.data,e=[],c=0,p=f.length;c<p;c++)r=f[c],e.push(r.buffer);return e})(),self.postMessage(l,h)):self.postMessage(l)},self.onmessage=function(l){return v(l.data)}},{"./GIFEncoder.js":2}]},{},[6])(6)})}),846:(te=>{(function(){var P=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function K(s){var r,n=new Uint8Array(s);for(r=0;r<s;r+=1)n[r]=0;return n}function g(s,r,n,h){var c=r+n,p=K((parseInt(c/h)+1)*h);return p.set(s),p}function E(s,r,n){return s=s.toString(n||8),"000000000000".substr(s.length+12-r)+s}function v(s,r,n){var h,c;for(r=r||K(s.length),n=n||0,h=0,c=s.length;h<c;h+=1)r[n]=s.charCodeAt(h),n+=1;return r}function l(s){var r,n=s.length%3,h="",c,p;function f(e){return P[e>>18&63]+P[e>>12&63]+P[e>>6&63]+P[e&63]}for(r=0,p=s.length-n;r<p;r+=3)c=(s[r]<<16)+(s[r+1]<<8)+s[r+2],h+=f(c);switch(h.length%4){case 1:h+="=";break;case 2:h+="==";break}return h}window.utils={},window.utils.clean=K,window.utils.pad=E,window.utils.extend=g,window.utils.stringToUint8=v,window.utils.uint8ToBase64=l})(),(function(){var P=window.utils,K;K=[{field:"fileName",length:100},{field:"fileMode",length:8},{field:"uid",length:8},{field:"gid",length:8},{field:"fileSize",length:12},{field:"mtime",length:12},{field:"checksum",length:8},{field:"type",length:1},{field:"linkName",length:100},{field:"ustar",length:8},{field:"owner",length:32},{field:"group",length:32},{field:"majorNumber",length:8},{field:"minorNumber",length:8},{field:"filenamePrefix",length:155},{field:"padding",length:12}];function g(E,v){var l=P.clean(512),s=0;return K.forEach(function(r){var n=E[r.field]||"",h,c;for(h=0,c=n.length;h<c;h+=1)l[s]=n.charCodeAt(h),s+=1;s+=r.length-h}),typeof v=="function"?v(l,s):l}window.header={},window.header.structure=K,window.header.format=g})(),(function(){var P=window.header,K=window.utils,g=512,E;function v(l){this.written=0,E=(l||20)*g,this.out=K.clean(E),this.blocks=[],this.length=0}v.prototype.append=function(l,s,r,n){var h,c,p,f,e,i,u;if(typeof s=="string")s=K.stringToUint8(s);else if(s.constructor!==Uint8Array.prototype.constructor)throw"Invalid input type. You gave me: "+s.constructor.toString().match(/function\s*([$A-Za-z_][0-9A-Za-z_]*)\s*\(/)[1];typeof r=="function"&&(r={}),r=r||{},p=r.mode||parseInt("777",8)&4095,f=r.mtime||Math.floor(+new Date/1e3),e=r.uid||0,i=r.gid||0,h={fileName:l,fileMode:K.pad(p,7),uid:K.pad(e,7),gid:K.pad(i,7),fileSize:K.pad(s.length,11),mtime:K.pad(f,11),checksum:"        ",type:"0",ustar:"ustar  ",owner:r.owner||"",group:r.group||""},c=0,Object.keys(h).forEach(function(d){var y,x=h[d],k;for(y=0,k=x.length;y<k;y+=1)c+=x.charCodeAt(y)}),h.checksum=K.pad(c,6)+"\0 ",u=P.format(h);var o=Math.ceil(u.length/g)*g,m=Math.ceil(s.length/g)*g;this.blocks.push({header:u,input:s,headerLength:o,inputLength:m})},v.prototype.save=function(){var l=[],s=[],r=0,n=Math.pow(2,20),h=[];return this.blocks.forEach(function(c){r+c.headerLength+c.inputLength>n&&(s.push({blocks:h,length:r}),h=[],r=0),h.push(c),r+=c.headerLength+c.inputLength}),s.push({blocks:h,length:r}),s.forEach(function(c){var p=new Uint8Array(c.length),f=0;c.blocks.forEach(function(e){p.set(e.header,f),f+=e.headerLength,p.set(e.input,f),f+=e.inputLength}),l.push(p)}),l.push(new Uint8Array(2*g)),new Blob(l,{type:"octet/stream"})},v.prototype.clear=function(){this.written=0,this.out=K.clean(E)},typeof te.exports<"u"?te.exports=v:window.Tar=v})()}),166:(te=>{var P=function(g){this.data=new Uint8Array(g),this.pos=0};P.prototype.seek=function(g){this.pos=g},P.prototype.writeBytes=function(g){for(var E=0;E<g.length;E++)this.data[this.pos++]=g[E]},P.prototype.writeByte=function(g){this.data[this.pos++]=g},P.prototype.writeU8=P.prototype.writeByte,P.prototype.writeU16BE=function(g){this.data[this.pos++]=g>>8,this.data[this.pos++]=g},P.prototype.writeDoubleBE=function(g){for(var E=new Uint8Array(new Float64Array([g]).buffer),v=E.length-1;v>=0;v--)this.writeByte(E[v])},P.prototype.writeFloatBE=function(g){for(var E=new Uint8Array(new Float32Array([g]).buffer),v=E.length-1;v>=0;v--)this.writeByte(E[v])},P.prototype.writeString=function(g){for(var E=0;E<g.length;E++)this.data[this.pos++]=g.charCodeAt(E)},P.prototype.writeEBMLVarIntWidth=function(g,E){switch(E){case 1:this.writeU8(128|g);break;case 2:this.writeU8(64|g>>8),this.writeU8(g);break;case 3:this.writeU8(32|g>>16),this.writeU8(g>>8),this.writeU8(g);break;case 4:this.writeU8(16|g>>24),this.writeU8(g>>16),this.writeU8(g>>8),this.writeU8(g);break;case 5:this.writeU8(8|g/4294967296&7),this.writeU8(g>>24),this.writeU8(g>>16),this.writeU8(g>>8),this.writeU8(g);break;default:throw new RuntimeException("Bad EBML VINT size "+E)}},P.prototype.measureEBMLVarInt=function(g){if(g<127)return 1;if(g<16383)return 2;if(g<2097151)return 3;if(g<268435455)return 4;if(g<34359738367)return 5;throw new RuntimeException("EBML VINT size not supported "+g)},P.prototype.writeEBMLVarInt=function(g){this.writeEBMLVarIntWidth(g,this.measureEBMLVarInt(g))},P.prototype.writeUnsignedIntBE=function(g,E){switch(E===void 0&&(E=this.measureUnsignedInt(g)),E){case 5:this.writeU8(Math.floor(g/4294967296));case 4:this.writeU8(g>>24);case 3:this.writeU8(g>>16);case 2:this.writeU8(g>>8);case 1:this.writeU8(g);break;default:throw new RuntimeException("Bad UINT size "+E)}},P.prototype.measureUnsignedInt=function(g){return g<256?1:g<65536?2:g<16777216?3:g<4294967296?4:5},P.prototype.getAsDataArray=function(){if(this.pos<this.data.byteLength)return this.data.subarray(0,this.pos);if(this.pos==this.data.byteLength)return this.data;throw"ArrayBufferDataStream's pos lies beyond end of buffer"};var K=(function(g){return function(E){var v=[],l=Promise.resolve(),s=null;typeof FileWriter<"u"&&E instanceof FileWriter&&(s=E),this.pos=0,this.length=0;function r(c){return new Promise(function(p,f){var e=new FileReader;e.addEventListener("loadend",function(){p(e.result)}),e.readAsArrayBuffer(c)})}function n(c){return new Promise(function(p,f){c instanceof Uint8Array?p(c):c instanceof ArrayBuffer||ArrayBuffer.isView(c)?p(new Uint8Array(c)):c instanceof Blob?p(r(c).then(function(e){return new Uint8Array(e)})):p(r(new Blob([c])).then(function(e){return new Uint8Array(e)}))})}function h(c){var p=c.byteLength||c.length||c.size;if(!Number.isInteger(p))throw"Failed to determine size of element";return p}this.seek=function(c){if(c<0)throw"Offset may not be negative";if(isNaN(c))throw"Offset may not be NaN";if(c>this.length)throw"Seeking beyond the end of file is not allowed";this.pos=c},this.write=function(c){var p={offset:this.pos,data:c,length:h(c)},f=p.offset>=this.length;this.pos+=p.length,this.length=Math.max(this.length,this.pos),l=l.then(function(){if(s)return new Promise(function(u,o){s.onwriteend=u,s.seek(p.offset),s.write(new Blob([p.data]))});if(!f)for(var e=0;e<v.length;e++){var i=v[e];if(!(p.offset+p.length<=i.offset||p.offset>=i.offset+i.length)){if(p.offset<i.offset||p.offset+p.length>i.offset+i.length)throw new Error("Overwrite crosses blob boundaries");if(p.offset==i.offset&&p.length==i.length){i.data=p.data;return}else return n(i.data).then(function(u){return i.data=u,n(p.data)}).then(function(u){p.data=u,i.data.set(p.data,p.offset-i.offset)})}}v.push(p)})},this.complete=function(c){return s?l=l.then(function(){return null}):l=l.then(function(){for(var p=[],f=0;f<v.length;f++)p.push(v[f].data);return new Blob(p,{mimeType:c})}),l}}})();(function(){var g=function(E,v){function l(f,e){var i={};return[f,e].forEach(function(u){for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(i[o]=u[o])}),i}function s(f){return typeof f!="string"||!f.match(/^data:image\/webp;base64,/i)?!1:window.atob(f.substring(23))}function r(f,e){var i=f.toDataURL("image/webp",{quality:e});return s(i)}function n(f){var e=f.indexOf("VP8 ");if(e==-1)throw"Failed to identify beginning of keyframe in WebP image";return e+=8,f.substring(e)}function h(f){this.value=f}function c(f){this.value=f}function p(f,e,i){if(Array.isArray(i))for(var u=0;u<i.length;u++)p(f,e,i[u]);else if(typeof i=="string")f.writeString(i);else if(i instanceof Uint8Array)f.writeBytes(i);else if(i.id)if(i.offset=f.pos+e,f.writeUnsignedIntBE(i.id),Array.isArray(i.data)){var o,m,d;i.size===-1?f.writeByte(255):(o=f.pos,f.writeBytes([0,0,0,0])),m=f.pos,i.dataOffset=m+e,p(f,e,i.data),i.size!==-1&&(d=f.pos,i.size=d-m,f.seek(o),f.writeEBMLVarIntWidth(i.size,4),f.seek(d))}else if(typeof i.data=="string")f.writeEBMLVarInt(i.data.length),i.dataOffset=f.pos+e,f.writeString(i.data);else if(typeof i.data=="number")i.size||(i.size=f.measureUnsignedInt(i.data)),f.writeEBMLVarInt(i.size),i.dataOffset=f.pos+e,f.writeUnsignedIntBE(i.data,i.size);else if(i.data instanceof c)f.writeEBMLVarInt(8),i.dataOffset=f.pos+e,f.writeDoubleBE(i.data.value);else if(i.data instanceof h)f.writeEBMLVarInt(4),i.dataOffset=f.pos+e,f.writeFloatBE(i.data.value);else if(i.data instanceof Uint8Array)f.writeEBMLVarInt(i.data.byteLength),i.dataOffset=f.pos+e,f.writeBytes(i.data);else throw"Bad EBML datatype "+typeof i.data;else throw"Bad EBML datatype "+typeof i.data}return function(f){var e=5e3,i=1,u=!1,o,m,d=[],y=0,x=0,k={quality:.95,fileWriter:null,fd:null,frameDuration:null,frameRate:null},D={Cues:{id:new Uint8Array([28,83,187,107]),positionEBML:null},SegmentInfo:{id:new Uint8Array([21,73,169,102]),positionEBML:null},Tracks:{id:new Uint8Array([22,84,174,107]),positionEBML:null}},F,T={id:17545,data:new c(0)},S,O=[],B=new v(f.fileWriter||f.fd);function w(q){return q-F.dataOffset}function L(){var q={id:21420,size:5,data:0},V={id:290298740,data:[]};for(var de in D){var we=D[de];we.positionEBML=Object.create(q),V.data.push({id:19899,data:[{id:21419,data:we.id},we.positionEBML]})}return V}function a(){S=L();var q={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:"webm"},{id:17031,data:2},{id:17029,data:2}]},V={id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:"webm-writer-js"},{id:22337,data:"webm-writer-js"},T]},de={id:374648427,data:[{id:174,data:[{id:215,data:i},{id:29637,data:i},{id:156,data:0},{id:2274716,data:"und"},{id:134,data:"V_VP8"},{id:2459272,data:"VP8"},{id:131,data:1},{id:224,data:[{id:176,data:o},{id:186,data:m}]}]}]};F={id:408125543,size:-1,data:[S,V,de]};var we=new E(256);p(we,B.pos,[q,F]),B.write(we.getAsDataArray()),D.SegmentInfo.positionEBML.data=w(V.offset),D.Tracks.positionEBML.data=w(de.offset)}function N(q){var V=new E(4);if(!(q.trackNumber>0&&q.trackNumber<127))throw"TrackNumber must be > 0 and < 127";return V.writeEBMLVarInt(q.trackNumber),V.writeU16BE(q.timecode),V.writeByte(128),{id:163,data:[V.getAsDataArray(),q.frame]}}function Y(q){return{id:524531317,data:[{id:231,data:Math.round(q.timecode)}]}}function j(q,V,de){O.push({id:187,data:[{id:179,data:V},{id:183,data:[{id:247,data:q},{id:241,data:w(de)}]}]})}function J(){var q={id:475249515,data:O},V=new E(16+O.length*32);p(V,B.pos,q),B.write(V.getAsDataArray()),D.Cues.positionEBML.data=w(q.offset)}function W(){if(d.length!=0){for(var q=0,V=0;V<d.length;V++)q+=d[V].frame.length;for(var de=new E(q+d.length*32),we=Y({timecode:Math.round(y)}),V=0;V<d.length;V++)we.data.push(N(d[V]));p(de,B.pos,we),B.write(de.getAsDataArray()),j(i,Math.round(y),we.offset),d=[],y+=x,x=0}}function ie(){if(!f.frameDuration)if(f.frameRate)f.frameDuration=1e3/f.frameRate;else throw"Missing required frameDuration or frameRate setting"}function M(q){q.trackNumber=i,q.timecode=Math.round(x),d.push(q),x+=q.duration,x>=e&&W()}function I(){var q=new E(S.size),V=B.pos;p(q,S.dataOffset,S.data),B.seek(S.dataOffset),B.write(q.getAsDataArray()),B.seek(V)}function le(){var q=new E(8),V=B.pos;q.writeDoubleBE(y),B.seek(T.dataOffset),B.write(q.getAsDataArray()),B.seek(V)}this.addFrame=function(q){if(u){if(q.width!=o||q.height!=m)throw"Frame size differs from previous frames"}else o=q.width,m=q.height,a(),u=!0;var V=r(q,{quality:f.quality});if(!V)throw"Couldn't decode WebP frame, does the browser support WebP?";M({frame:n(V),duration:f.frameDuration})},this.complete=function(){return W(),J(),I(),le(),B.complete("video/webm")},this.getWrittenSize=function(){return B.length},f=l(k,f||{}),ie()}};typeof te.exports<"u"?te.exports=g(P,K):window.WebMWriter=g(P,K)})()}),681:(te=>{te.exports=JSON.parse('{"_from":"@ffmpeg/ffmpeg","_id":"@ffmpeg/ffmpeg@0.10.1","_inBundle":false,"_integrity":"sha512-ChQkH7Rh57hmVo1LhfQFibWX/xqneolJKSwItwZdKPcLZuKigtYAYDIvB55pDfP17VtR1R77SxgkB2/UApB+Og==","_location":"/@ffmpeg/ffmpeg","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"@ffmpeg/ffmpeg","name":"@ffmpeg/ffmpeg","escapedName":"@ffmpeg%2fffmpeg","scope":"@ffmpeg","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/@ffmpeg/ffmpeg/-/ffmpeg-0.10.1.tgz","_shasum":"3dacf3985de9c83a95fbf79fe709920cc009b00a","_spec":"@ffmpeg/ffmpeg","_where":"/Users/amandaghassaei/Projects/canvas-capture","author":{"name":"Jerome Wu","email":"jeromewus@gmail.com"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"bundleDependencies":false,"dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"deprecated":false,"description":"FFmpeg WebAssembly version","devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},"directories":{"example":"examples"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","keywords":["ffmpeg","WebAssembly","video"],"license":"MIT","main":"src/index.js","name":"@ffmpeg/ffmpeg","repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","lint":"eslint src","prepublishOnly":"npm run build","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js"},"types":"src/index.d.ts","version":"0.10.1"}')})},Te={};function ze(te){var P=Te[te];if(P!==void 0)return P.exports;var K=Te[te]={id:te,loaded:!1,exports:{}};return Ie[te].call(K.exports,K,K.exports,ze),K.loaded=!0,K.exports}ze.d=(te,P)=>{for(var K in P)ze.o(P,K)&&!ze.o(te,K)&&Object.defineProperty(te,K,{enumerable:!0,get:P[K]})},ze.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),ze.o=(te,P)=>Object.prototype.hasOwnProperty.call(te,P),ze.r=te=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})},ze.nmd=te=>(te.paths=[],te.children||(te.children=[]),te);var Ge={};return(()=>{var te=Ge;Object.defineProperty(te,"__esModule",{value:!0}),te.CanvasCapture=void 0;var P=ze(914);te.CanvasCapture=P,te.default=P})(),Ge})())})($e)),$e.exports}var Ct=At();const We=kt(Ct),Bt="https://raw.githubusercontent.com/gkjohnson/3d-demo-data/master/hdri/phalzer_forest_01_1k.hdr",Ft="https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/models/bao-robot/bao-robot.glb",Pt="Model by DailyArt on Sketchfab",Tt=window.requestAnimationFrame;let Be,je,Ve,Le,Ne,Ke,et,Ze,qe=0,Xe=0,Ye="",He;const zt=new ot(0,1,0),Ae={displayVideo:!1,tiles:2,rotation:2*Math.PI,duration:0,frameRate:12,samples:20,record:()=>{Ae.displayVideo=!1,URL.revokeObjectURL(Ye),We.init(je.domElement),We.beginVideoRecord({format:We.WEBM,fps:Ae.frameRate,onExport:Ce=>{Ye=URL.createObjectURL(Ce),Ze.src=Ye,Ze.play(),Ae.displayVideo=!0,Je()}}),qe=0,Qe(),Je()},stop:()=>{We.stopRecord(),qe=0,Je()},bounces:5,samplesPerFrame:1,renderScale:1,...Et()};Rt();async function Rt(){He=new xt,He.attach(document.body),je=new st({antialias:!0,preserveDrawingBuffer:!0}),je.toneMapping=lt,document.body.appendChild(je.domElement),Be=new St(je),Be.filterGlossyFactor=.25,Be.tiles.set(Ae.tiles,Ae.tiles),Be.renderDelay=0,Be.minSamples=1,Be.fadeDuration=0,Ne=new ft,Ne.backgroundBlurriness=.1,Le=new ut(75,window.innerWidth/window.innerHeight,.025,500),Le.position.set(5,8,12),Ve=new vt(Le,je.domElement),Ve.target.set(-.15,4.5,-.08),Ve.addEventListener("change",()=>Be.updateCamera()),Ve.update(),Ze=document.getElementsByTagName("video")[0],Ze.style.display="none";const[Ce,Fe]=await Promise.all([new wt().loadAsync(Bt),new gt().setMeshoptDecoder(bt).loadAsync(Ft)]);Ce.mapping=ht,Ne.background=Ce,Ne.environment=Ce,Fe.scene.traverse(te=>{te.material&&(te.material.transparent=!1,te.material.depthWrite=!0)}),Fe.scene.scale.setScalar(.3),Ne.add(Fe.scene);const Ie=_t(2048),Te=new ct(new dt,new pt({map:Ie,transparent:!0,color:14540253,roughness:.15,metalness:.95}));Te.scale.setScalar(50),Te.rotation.x=-Math.PI/2,Te.position.y=.075,Ne.add(Te);const Ge=Fe.animations[0];et=new mt(Fe.scene),et.clipAction(Ge).play(),Xe=parseFloat(Ge.duration.toFixed(2)),Ae.duration=Xe,He.setPercentage(1),He.setCredits(Pt),Be.setScene(Ne,Le),It(),Je(),nt()}function Je(){Ke&&Ke.destroy(),Ke=new yt,Ke.add(Ae,"displayVideo").disable(Ye==="");const Ce=Ke.addFolder("animation"),Fe=We.isRecording();Ce.add(Ae,"rotation",-2*Math.PI,2*Math.PI).disable(Fe),Ce.add(Ae,"duration",.25,Xe,.01).disable(Fe),Ce.add(Ae,"frameRate",12,60,1).disable(Fe),Ce.add(Ae,"renderScale",.1,1).onChange(Qe).disable(Fe),Ce.add(Ae,Fe?"stop":"record");const Ie=Ke.addFolder("rendering");Ie.add(Ae,"tiles",1,4,1).onChange(Te=>{Be.tiles.set(Te,Te)}),Ie.add(Ae,"samples",1,500,1),Ie.add(Ae,"samplesPerFrame",1,10,1),Ie.add(Ae,"bounces",1,10,1).onChange(Qe)}function It(){const Ce=Math.min(700,window.innerWidth),Fe=Math.floor(Ce*3/4);Le.aspect=Ce/Fe,Le.updateProjectionMatrix(),je.setSize(Ce,Fe,!1),je.setPixelRatio(window.devicePixelRatio),je.domElement.style.width=`${Ce}px`,Ze.style.width=`${Ce}px`,Be.updateCamera()}function Qe(){Be.renderScale=Ae.renderScale,Be.bounces=Ae.bounces,Be.setScene(Ne,Le)}function nt(){Tt(nt);const Ce=We.isRecording();if(Ae.displayVideo&&!Ce&&Ye!=="")Ze.style.display="inline-block";else{if(Ze.style.display="none",Ve.enabled=!Ce,Le.updateMatrixWorld(),Ce&&Be.samples>=Ae.samples){We.recordFrame(),qe++,qe>=Ae.frameRate*Ae.duration&&(We.stopRecord(),qe=0,Je());const Ie=Ae.rotation/Math.ceil(Ae.frameRate*Xe);Le.position.applyAxisAngle(zt,Ie),Ve.update(),Le.updateMatrixWorld();const Te=1/Ae.frameRate;et.update(Te),Qe()}Be.renderSample()}if(Ce){const Te=1/Math.ceil(Ae.frameRate*Ae.duration),Ge=(Be.samples/Ae.samples+qe)*Te;He.setPercentage(Ge)}else He.setPercentage(1),He.setSamples(Be.samples,Be.isCompiling)}
